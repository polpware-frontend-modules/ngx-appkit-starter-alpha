!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@polpware/ngx-appkit-contracts-alpha"),require("@polpware/ngx-oauth2"),require("@angular/animations"),require("@angular/core"),require("@polpware/ngx-appkit-services-alpha"),require("rxjs"),require("rxjs/operators"),require("@angular/common/http"),require("@angular/router"),require("@angular/platform-browser"),require("@angular/forms"),require("@swimlane/ngx-datatable"),require("ngx-bootstrap/tooltip"),require("@angular/common"),require("@ngx-translate/core"),require("ngx-bootstrap/modal"),require("chart.js"),require("ng2-charts"),require("ngx-bootstrap/dropdown"),require("ngx-bootstrap/tabs"),require("ngx-bootstrap/pagination"),require("ngx-bootstrap/accordion"),require("ngx-bootstrap/popover"),require("ngx-bootstrap/carousel"),require("ngx-bootstrap/alert")):"function"==typeof define&&define.amd?define("@polpware/ngx-appkit-starter-alpha",["exports","@polpware/ngx-appkit-contracts-alpha","@polpware/ngx-oauth2","@angular/animations","@angular/core","@polpware/ngx-appkit-services-alpha","rxjs","rxjs/operators","@angular/common/http","@angular/router","@angular/platform-browser","@angular/forms","@swimlane/ngx-datatable","ngx-bootstrap/tooltip","@angular/common","@ngx-translate/core","ngx-bootstrap/modal","chart.js","ng2-charts","ngx-bootstrap/dropdown","ngx-bootstrap/tabs","ngx-bootstrap/pagination","ngx-bootstrap/accordion","ngx-bootstrap/popover","ngx-bootstrap/carousel","ngx-bootstrap/alert"],t):t(((e=e||self).polpware=e.polpware||{},e.polpware["ngx-appkit-starter-alpha"]={}),e.ngxAppkitContractsAlpha,e.ngxOauth2,e.ng.animations,e.ng.core,e.ngxAppkitServicesAlpha,e.rxjs,e.rxjs.operators,e.ng.common.http,e.ng.router,e.ng.platformBrowser,e.ng.forms,e.ngxDatatable,e.tooltip,e.ng.common,e.core$1,e.modal,e.chart_js,e.ng2Charts,e.dropdown,e.tabs,e.pagination,e.accordion,e.popover,e.carousel,e.alert)}(this,(function(e,t,n,r,i,o,a,s,l,c,d,p,u,m,f,h,g,v,b,y,S,E,w,x,C,M){"use strict";v=v&&Object.prototype.hasOwnProperty.call(v,"default")?v.default:v;
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
var I=function(e,t){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function k(e,t){function n(){this.constructor=e}I(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function P(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function R(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function U(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(R(arguments[t]));return e}var T,N=function(){function e(){}return e.Create=function(n){var r=new e;return Object.assign(r,n),r.date&&(r.date=t.Utilities.parseDate(r.date)),r},e}(),O=function(e,t,n){this.name=e,this.description=t,this.permissions=n},V=function(e){function t(t,n,r){var i=e.call(this)||this;return i.currentPassword=t,i.newPassword=n,i.confirmPassword=r,i}return k(t,e),t}(n.User);(T=e.Gender||(e.Gender={}))[T.None=0]="None",T[T.Female=1]="Female",T[T.Male=2]="Male";var D=function(e,t,n){this.userName=e,this.password=t,this.rememberMe=n},A=r.trigger("fadeInOut",[r.transition(":enter",[r.style({opacity:0}),r.animate("0.4s ease-in",r.style({opacity:1}))]),r.transition(":leave",[r.animate("0.4s 10ms ease-out",r.style({opacity:0}))])]);var B=function(e){function t(t){var n=e.call(this)||this;return n.impl=t,n}return k(t,e),t.prototype.get=function(){return this.impl},t.ɵfac=function(e){return new(e||t)(i.ɵɵinject(o.ConfigurationService))},t.ɵprov=i.ɵɵdefineInjectable({token:t,factory:t.ɵfac}),t}(t.ConfigurationServiceAbstractProvider),q=function(e){function t(t){var n=e.call(this)||this;return n.impl=t,n}return k(t,e),t.prototype.get=function(){return this.impl},t.ɵfac=function(e){return new(e||t)(i.ɵɵinject(o.ThemeManager))},t.ɵprov=i.ɵɵdefineInjectable({token:t,factory:t.ɵfac}),t}(t.ThemeManagerAbstractProvider),j=function(e){function t(t,n,r){var i=e.call(this,n,r)||this;return i.configurations=t,i._usersUrl="/api/account/users",i._userByUserNameUrl="/api/account/users/username",i._currentUserUrl="/api/account/users/me",i._currentUserPreferencesUrl="/api/account/users/me/preferences",i._unblockUserUrl="/api/account/users/unblock",i._rolesUrl="/api/account/roles",i._roleByRoleNameUrl="/api/account/roles/name",i._permissionsUrl="/api/account/permissions",i}return k(t,e),Object.defineProperty(t.prototype,"usersUrl",{get:function(){return this.configurations.baseUrl+this._usersUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userByUserNameUrl",{get:function(){return this.configurations.baseUrl+this._userByUserNameUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentUserUrl",{get:function(){return this.configurations.baseUrl+this._currentUserUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentUserPreferencesUrl",{get:function(){return this.configurations.baseUrl+this._currentUserPreferencesUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unblockUserUrl",{get:function(){return this.configurations.baseUrl+this._unblockUserUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rolesUrl",{get:function(){return this.configurations.baseUrl+this._rolesUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"roleByRoleNameUrl",{get:function(){return this.configurations.baseUrl+this._roleByRoleNameUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"permissionsUrl",{get:function(){return this.configurations.baseUrl+this._permissionsUrl},enumerable:!0,configurable:!0}),t.prototype.getUserEndpoint=function(e){var t=this,n=e?this.usersUrl+"/"+e:this.currentUserUrl;return this.http.get(n,this.requestHeaders).pipe(s.catchError((function(n){return t.handleError(n,(function(){return t.getUserEndpoint(e)}))})))},t.prototype.getUserByUserNameEndpoint=function(e){var t=this,n=this.userByUserNameUrl+"/"+e;return this.http.get(n,this.requestHeaders).pipe(s.catchError((function(n){return t.handleError(n,(function(){return t.getUserByUserNameEndpoint(e)}))})))},t.prototype.getUsersEndpoint=function(e,t){var n=this,r=e&&t?this.usersUrl+"/"+e+"/"+t:this.usersUrl;return this.http.get(r,this.requestHeaders).pipe(s.catchError((function(r){return n.handleError(r,(function(){return n.getUsersEndpoint(e,t)}))})))},t.prototype.getNewUserEndpoint=function(e){var t=this;return this.http.post(this.usersUrl,JSON.stringify(e),this.requestHeaders).pipe(s.catchError((function(n){return t.handleError(n,(function(){return t.getNewUserEndpoint(e)}))})))},t.prototype.getUpdateUserEndpoint=function(e,t){var n=this,r=t?this.usersUrl+"/"+t:this.currentUserUrl;return this.http.put(r,JSON.stringify(e),this.requestHeaders).pipe(s.catchError((function(r){return n.handleError(r,(function(){return n.getUpdateUserEndpoint(e,t)}))})))},t.prototype.getPatchUpdateUserEndpoint=function(e,t,n,r,i){var o,a,l=this;return n?(o=i?this.usersUrl+"/"+i:this.currentUserUrl,a=r?[{value:e,path:n,op:t,from:r}]:[{value:e,path:n,op:t}]):(o=t?this.usersUrl+"/"+t:this.currentUserUrl,a=e),this.http.patch(o,JSON.stringify(a),this.requestHeaders).pipe(s.catchError((function(o){return l.handleError(o,(function(){return l.getPatchUpdateUserEndpoint(e,t,n,r,i)}))})))},t.prototype.getUserPreferencesEndpoint=function(){var e=this;return this.http.get(this.currentUserPreferencesUrl,this.requestHeaders).pipe(s.catchError((function(t){return e.handleError(t,(function(){return e.getUserPreferencesEndpoint()}))})))},t.prototype.getUpdateUserPreferencesEndpoint=function(e){var t=this;return this.http.put(this.currentUserPreferencesUrl,JSON.stringify(e),this.requestHeaders).pipe(s.catchError((function(n){return t.handleError(n,(function(){return t.getUpdateUserPreferencesEndpoint(e)}))})))},t.prototype.getUnblockUserEndpoint=function(e){var t=this,n=this.unblockUserUrl+"/"+e;return this.http.put(n,null,this.requestHeaders).pipe(s.catchError((function(n){return t.handleError(n,(function(){return t.getUnblockUserEndpoint(e)}))})))},t.prototype.getDeleteUserEndpoint=function(e){var t=this,n=this.usersUrl+"/"+e;return this.http.delete(n,this.requestHeaders).pipe(s.catchError((function(n){return t.handleError(n,(function(){return t.getDeleteUserEndpoint(e)}))})))},t.prototype.getRoleEndpoint=function(e){var t=this,n=this.rolesUrl+"/"+e;return this.http.get(n,this.requestHeaders).pipe(s.catchError((function(n){return t.handleError(n,(function(){return t.getRoleEndpoint(e)}))})))},t.prototype.getRoleByRoleNameEndpoint=function(e){var t=this,n=this.roleByRoleNameUrl+"/"+e;return this.http.get(n,this.requestHeaders).pipe(s.catchError((function(n){return t.handleError(n,(function(){return t.getRoleByRoleNameEndpoint(e)}))})))},t.prototype.getRolesEndpoint=function(e,t){var n=this,r=e&&t?this.rolesUrl+"/"+e+"/"+t:this.rolesUrl;return this.http.get(r,this.requestHeaders).pipe(s.catchError((function(r){return n.handleError(r,(function(){return n.getRolesEndpoint(e,t)}))})))},t.prototype.getNewRoleEndpoint=function(e){var t=this;return this.http.post(this.rolesUrl,JSON.stringify(e),this.requestHeaders).pipe(s.catchError((function(n){return t.handleError(n,(function(){return t.getNewRoleEndpoint(e)}))})))},t.prototype.getUpdateRoleEndpoint=function(e,t){var n=this,r=this.rolesUrl+"/"+t;return this.http.put(r,JSON.stringify(e),this.requestHeaders).pipe(s.catchError((function(r){return n.handleError(r,(function(){return n.getUpdateRoleEndpoint(e,t)}))})))},t.prototype.getDeleteRoleEndpoint=function(e){var t=this,n=this.rolesUrl+"/"+e;return this.http.delete(n,this.requestHeaders).pipe(s.catchError((function(n){return t.handleError(n,(function(){return t.getDeleteRoleEndpoint(e)}))})))},t.prototype.getPermissionsEndpoint=function(){var e=this;return this.http.get(this.permissionsUrl,this.requestHeaders).pipe(s.catchError((function(t){return e.handleError(t,(function(){return e.getPermissionsEndpoint()}))})))},t.ɵfac=function(e){return new(e||t)(i.ɵɵinject(o.ConfigurationService),i.ɵɵinject(l.HttpClient),i.ɵɵinject(n.AuthService))},t.ɵprov=i.ɵɵdefineInjectable({token:t,factory:t.ɵfac}),t}(n.EndpointBase),L=function(){function e(e,t){this.authService=e,this.accountEndpoint=t,this._rolesChanged=new a.Subject}return e.prototype.getUser=function(e){return this.accountEndpoint.getUserEndpoint(e)},e.prototype.getUserAndRoles=function(e){return a.forkJoin(this.accountEndpoint.getUserEndpoint(e),this.accountEndpoint.getRolesEndpoint())},e.prototype.getUsers=function(e,t){return this.accountEndpoint.getUsersEndpoint(e,t)},e.prototype.getUsersAndRoles=function(e,t){return a.forkJoin(this.accountEndpoint.getUsersEndpoint(e,t),this.accountEndpoint.getRolesEndpoint())},e.prototype.updateUser=function(e){var t=this;return e.id?this.accountEndpoint.getUpdateUserEndpoint(e,e.id):this.accountEndpoint.getUserByUserNameEndpoint(e.userName).pipe(s.mergeMap((function(n){return e.id=n.id,t.accountEndpoint.getUpdateUserEndpoint(e,e.id)})))},e.prototype.newUser=function(e){return this.accountEndpoint.getNewUserEndpoint(e)},e.prototype.getUserPreferences=function(){return this.accountEndpoint.getUserPreferencesEndpoint()},e.prototype.updateUserPreferences=function(e){return this.accountEndpoint.getUpdateUserPreferencesEndpoint(e)},e.prototype.deleteUser=function(e){var t=this;return"string"==typeof e||e instanceof String?this.accountEndpoint.getDeleteUserEndpoint(e).pipe(s.tap((function(e){return t.onRolesUserCountChanged(e.roles)}))):e.id?this.deleteUser(e.id):this.accountEndpoint.getUserByUserNameEndpoint(e.userName).pipe(s.mergeMap((function(e){return t.deleteUser(e.id)})))},e.prototype.unblockUser=function(e){return this.accountEndpoint.getUnblockUserEndpoint(e)},e.prototype.userHasPermission=function(e){return this.permissions.some((function(t){return t==e}))},e.prototype.refreshLoggedInUser=function(){return this.accountEndpoint.refreshLogin()},e.prototype.getRoles=function(e,t){return this.accountEndpoint.getRolesEndpoint(e,t)},e.prototype.getRolesAndPermissions=function(e,t){return a.forkJoin(this.accountEndpoint.getRolesEndpoint(e,t),this.accountEndpoint.getPermissionsEndpoint())},e.prototype.updateRole=function(t){var n=this;return t.id?this.accountEndpoint.getUpdateRoleEndpoint(t,t.id).pipe(s.tap((function(r){return n.onRolesChanged([t],e.roleModifiedOperation)}))):this.accountEndpoint.getRoleByRoleNameEndpoint(t.name).pipe(s.mergeMap((function(e){return t.id=e.id,n.accountEndpoint.getUpdateRoleEndpoint(t,t.id)})),s.tap((function(r){return n.onRolesChanged([t],e.roleModifiedOperation)})))},e.prototype.newRole=function(t){var n=this;return this.accountEndpoint.getNewRoleEndpoint(t).pipe(s.tap((function(r){return n.onRolesChanged([t],e.roleAddedOperation)})))},e.prototype.deleteRole=function(t){var n=this;return"string"==typeof t||t instanceof String?this.accountEndpoint.getDeleteRoleEndpoint(t).pipe(s.tap((function(t){return n.onRolesChanged([t],e.roleDeletedOperation)}))):t.id?this.deleteRole(t.id):this.accountEndpoint.getRoleByRoleNameEndpoint(t.name).pipe(s.mergeMap((function(e){return n.deleteRole(e.id)})))},e.prototype.getPermissions=function(){return this.accountEndpoint.getPermissionsEndpoint()},e.prototype.onRolesChanged=function(e,t){this._rolesChanged.next({roles:e,operation:t})},e.prototype.onRolesUserCountChanged=function(t){return this.onRolesChanged(t,e.roleModifiedOperation)},e.prototype.getRolesChangedEvent=function(){return this._rolesChanged.asObservable()},Object.defineProperty(e.prototype,"permissions",{get:function(){return this.authService.userPermissions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentUser",{get:function(){return this.authService.currentUser},enumerable:!0,configurable:!0}),e.roleAddedOperation="add",e.roleDeletedOperation="delete",e.roleModifiedOperation="modify",e.ɵfac=function(t){return new(t||e)(i.ɵɵinject(n.AuthService),i.ɵɵinject(j))},e.ɵprov=i.ɵɵdefineInjectable({token:e,factory:e.ɵfac}),e}(),_=function(){function e(){this.demoNotifications=[{id:1,header:"Welcome",body:"You are ...",isRead:!0,isPinned:!0,date:"2019-05-28T16:29:13.5877958"}]}return e.prototype.getNotificationEndpoint=function(e){var t,n=this.demoNotifications.find((function(t){return t.id==e}));return t=n?this.createResponse(n,200):this.createResponse(null,404),a.of(t.body)},e.prototype.getNotificationsEndpoint=function(e,t){this.demoNotifications;var n=this.createResponse(this.demoNotifications,200);return a.of(n.body)},e.prototype.getUnreadNotificationsEndpoint=function(e){var t=this.demoNotifications.filter((function(e){return!e.isRead})),n=this.createResponse(t,200);return a.of(n.body)},e.prototype.getNewNotificationsEndpoint=function(e){var t=this.demoNotifications,n=this.createResponse(t,200);return a.of(n.body)},e.prototype.getPinUnpinNotificationEndpoint=function(e,t){var n,r=this.demoNotifications.find((function(t){return t.id==e}));return r?(n=this.createResponse(null,204),null==t&&(t=!r.isPinned),r.isPinned=t,r.isRead=!0):n=this.createResponse(null,404),a.of(n.body)},e.prototype.getReadUnreadNotificationEndpoint=function(e,t){var n,r,i=function(e){var n=o.demoNotifications.find((function(t){return t.id==e}));n&&(n.isRead=t)},o=this;try{for(var s=P(e),l=s.next();!l.done;l=s.next()){i(l.value)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}var c=this.createResponse(null,204);return a.of(c.body)},e.prototype.getDeleteNotificationEndpoint=function(e){var t,n=this.demoNotifications.find((function(t){return t.id==e}));return n?(this.demoNotifications=this.demoNotifications.filter((function(t){return t.id!=e})),t=this.createResponse(n,200)):t=this.createResponse(null,404),a.of(t.body)},e.prototype.createResponse=function(e,t){return new l.HttpResponse({body:e,status:t})},e.ɵfac=function(t){return new(t||e)},e.ɵprov=i.ɵɵdefineInjectable({token:e,factory:e.ɵfac}),e}(),H=function(){function e(e,t){this.notificationEndpoint=e,this.authService=t}return Object.defineProperty(e.prototype,"currentUser",{get:function(){return this.authService.currentUser},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recentNotifications",{get:function(){return this._recentNotifications},set:function(e){this._recentNotifications=e},enumerable:!0,configurable:!0}),e.prototype.getNotification=function(e){return this.notificationEndpoint.getNotificationEndpoint(e).pipe(s.map((function(e){return N.Create(e)})))},e.prototype.getNotifications=function(e,t){var n=this;return this.notificationEndpoint.getNotificationsEndpoint(e,t).pipe(s.map((function(e){return n.getNotificationsFromResponse(e)})))},e.prototype.getUnreadNotifications=function(e){var t=this;return this.notificationEndpoint.getUnreadNotificationsEndpoint(e).pipe(s.map((function(e){return t.getNotificationsFromResponse(e)})))},e.prototype.getNewNotifications=function(){var e=this;return this.notificationEndpoint.getNewNotificationsEndpoint(this.lastNotificationDate).pipe(s.map((function(t){return e.processNewNotificationsFromResponse(t)})))},e.prototype.getNewNotificationsPeriodically=function(){var e=this;return a.interval(1e4).pipe(s.startWith(0),s.flatMap((function(){return e.notificationEndpoint.getNewNotificationsEndpoint(e.lastNotificationDate).pipe(s.map((function(t){return e.processNewNotificationsFromResponse(t)})))})))},e.prototype.pinUnpinNotification=function(e,t){return"number"==typeof e||e instanceof Number?this.notificationEndpoint.getPinUnpinNotificationEndpoint(e,t):this.pinUnpinNotification(e.id)},e.prototype.readUnreadNotification=function(e,t){return this.notificationEndpoint.getReadUnreadNotificationEndpoint(e,t)},e.prototype.deleteNotification=function(e){var t=this;return"number"==typeof e||e instanceof Number?this.notificationEndpoint.getDeleteNotificationEndpoint(e).pipe(s.map((function(n){return t.recentNotifications=t.recentNotifications.filter((function(t){return t.id!=e})),N.Create(n)}))):this.deleteNotification(e.id)},e.prototype.processNewNotificationsFromResponse=function(e){var t,n,r=this.getNotificationsFromResponse(e);try{for(var i=P(r),o=i.next();!o.done;o=i.next()){var a=o.value;a.date>this.lastNotificationDate&&(this.lastNotificationDate=a.date)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.prototype.getNotificationsFromResponse=function(e){var t=[];for(var n in e)t[n]=N.Create(e[n]);return t.sort((function(e,t){return t.date.valueOf()-e.date.valueOf()})),t.sort((function(e,t){return e.isPinned===t.isPinned?0:e.isPinned?-1:1})),this.recentNotifications=t,t},e.ɵfac=function(t){return new(t||e)(i.ɵɵinject(_),i.ɵɵinject(n.AuthService))},e.ɵprov=i.ɵɵdefineInjectable({token:e,factory:e.ɵfac}),e}(),F=function(e){function t(t){var n=e.call(this)||this;return n.impl=t,n}return k(t,e),t.prototype.get=function(){return this.impl},t.ɵfac=function(e){return new(e||t)(i.ɵɵinject(o.AppTranslationService))},t.ɵprov=i.ɵɵdefineInjectable({token:t,factory:t.ɵfac}),t}(t.TranslationServiceAbstractProvider),Q=function(){function e(e,n){var r=this;this.titleService=e,this.router=n,this.sub=this.router.events.pipe(s.filter((function(e){return e instanceof c.NavigationEnd})),s.map((function(e){return r.router.routerState.root})),s.map((function(e){for(;e.firstChild;)e=e.firstChild;return e})),s.flatMap((function(e){return e.data}))).subscribe((function(e){var n=e.title;if(n){var i=r.router.url.split("#")[1];i&&(n+=" | "+t.Utilities.toTitleCase(i))}n&&r.appName?n+=" - "+r.appName:r.appName&&(n=r.appName),n&&r.titleService.setTitle(n)}))}return e.ɵfac=function(t){return new(t||e)(i.ɵɵinject(d.Title),i.ɵɵinject(c.Router))},e.ɵprov=i.ɵɵdefineInjectable({token:e,factory:e.ɵfac}),e}(),z=function(e){function t(t){var n=e.call(this)||this;return n.alertService=t,n}return k(t,e),t.prototype.get=function(){return this.alertService},t.ɵfac=function(e){return new(e||t)(i.ɵɵinject(o.AlertService))},t.ɵprov=i.ɵɵdefineInjectable({token:t,factory:t.ɵfac}),t}(t.AlertServiceAbstractProvider),G=function(e){function t(t){var n=e.call(this)||this;return n.impl=t,n}return k(t,e),t.prototype.get=function(){return this.impl},t.ɵfac=function(e){return new(e||t)(i.ɵɵinject(o.LocalStoreManager))},t.ɵprov=i.ɵɵdefineInjectable({token:t,factory:t.ɵfac}),t}(t.LocalStoreManagerServiceAbstractProvider),J=function(){function e(){}return e.prototype.transform=function(e,t){if(!e)return e;var n=e.reduce((function(e,n){return e[n[t]]?e[n[t]].push(n):e[n[t]]=[n],e}),{});return Object.keys(n).map((function(e){return{key:e,value:n[e]}}))},e.ɵfac=function(t){return new(t||e)},e.ɵpipe=i.ɵɵdefinePipe({name:"groupBy",type:e,pure:!0}),e}(),W=function(){function e(e){this.elementRef=e}return e.prototype.ngOnInit=function(){var e=this;setTimeout((function(){return e.elementRef.nativeElement.focus()}),500)},e.ɵfac=function(t){return new(t||e)(i.ɵɵdirectiveInject(i.ElementRef))},e.ɵdir=i.ɵɵdefineDirective({type:e,selectors:[["","autofocus",""]]}),e}(),Z=function(){function e(e){var t=this;this.el=e,this._isShown=!1,this.options={},this.ngModelChange=new i.EventEmitter,this.changedSubscription=a.fromEvent($(this.el.nativeElement),"change").subscribe((function(e){return setTimeout((function(){return t.ngModelChange.emit(e.target.value)}))})),this.shownSubscription=a.fromEvent($(this.el.nativeElement),"show").subscribe((function(e){return t._isShown=!0})),this.hiddenSubscription=a.fromEvent($(this.el.nativeElement),"hide").subscribe((function(e){return t._isShown=!1}))}return Object.defineProperty(e.prototype,"isShown",{get:function(){return this._isShown},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngModel",{set:function(e){this.tryUpdate(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initialize(this.options)},e.prototype.ngOnDestroy=function(){this.destroy()},e.prototype.initialize=function(e){$(this.el.nativeElement).datepicker(e)},e.prototype.destroy=function(){this.changedSubscription&&(this.changedSubscription.unsubscribe(),this.shownSubscription.unsubscribe(),this.hiddenSubscription.unsubscribe()),$(this.el.nativeElement).datepicker("destroy")},e.prototype.show=function(){$(this.el.nativeElement).datepicker("show")},e.prototype.hide=function(){$(this.el.nativeElement).datepicker("hide")},e.prototype.toggle=function(){this.isShown?this.hide():this.show()},e.prototype.tryUpdate=function(e){var t=this;clearTimeout(this.updateTimeout),$(this.el.nativeElement).is(":focus")?this.updateTimeout=setTimeout((function(){t.updateTimeout=null,t.tryUpdate(e)}),100):this.update(e)},e.prototype.update=function(e){var t=this;setTimeout((function(){return $(t.el.nativeElement).datepicker("update",e)}))},e.prototype.setDate=function(e){var t=this;setTimeout((function(){return $(t.el.nativeElement).datepicker("setDate",e)}))},e.prototype.setUTCDate=function(e){var t=this;setTimeout((function(){return $(t.el.nativeElement).datepicker("setUTCDate",e)}))},e.prototype.clearDates=function(){var e=this;setTimeout((function(){return $(e.el.nativeElement).datepicker("clearDates")}))},e.prototype.getDate=function(){$(this.el.nativeElement).datepicker("getDate")},e.prototype.getUTCDate=function(){$(this.el.nativeElement).datepicker("getUTCDate")},e.ɵfac=function(t){return new(t||e)(i.ɵɵdirectiveInject(i.ElementRef))},e.ɵdir=i.ɵɵdefineDirective({type:e,selectors:[["","bootstrapDatepicker",""]],inputs:{options:"options",ngModel:"ngModel"},outputs:{ngModelChange:"ngModelChange"},exportAs:["bootstrap-datepicker"]}),e}(),K=function(){function e(e){var t=this;this.el=e,this.oldValues="",this.ngModelChange=new i.EventEmitter,this.shown=new i.EventEmitter,this.hidden=new i.EventEmitter,this.changedSubscription=a.fromEvent($(this.el.nativeElement),"changed.bs.select").subscribe((function(e){return setTimeout((function(){t.checkIsValuesChanged(t.selected)&&t.ngModelChange.emit(t.selected)}))})),this.shownSubscription=a.fromEvent($(this.el.nativeElement),"shown.bs.select").subscribe((function(e){return setTimeout((function(){return t.shown.emit()}))})),this.hiddenSubscription=a.fromEvent($(this.el.nativeElement),"hidden.bs.select").subscribe((function(e){return setTimeout((function(){return t.hidden.emit()}))}))}return Object.defineProperty(e.prototype,"ngModel",{set:function(e){var t=this;setTimeout((function(){return t.selected=e}))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;$(this.el.nativeElement).selectpicker(),this.requiredAttribute&&$(this.el.nativeElement).selectpicker("setStyle","required","add"),setTimeout((function(){e.refresh(),e.doValidation()}))},e.prototype.ngOnDestroy=function(){this.changedSubscription&&this.changedSubscription.unsubscribe(),this.shownSubscription&&this.shownSubscription.unsubscribe(),this.hiddenSubscription&&this.hiddenSubscription.unsubscribe(),$(this.el.nativeElement).selectpicker("destroy")},e.prototype.checkIsValuesChanged=function(e){var t=this;return!(e==this.oldValues||e instanceof Array&&e.length===this.oldValues.length&&e.every((function(e,n){return e===t.oldValues[n]})))},e.prototype.doValidation=function(){this.requiredAttribute&&($(this.el.nativeElement).selectpicker("setStyle",this.valid?"ng-invalid":"ng-valid","remove"),$(this.el.nativeElement).selectpicker("setStyle",this.valid?"ng-valid":"ng-invalid","add"))},Object.defineProperty(e.prototype,"requiredAttribute",{get:function(){return""===this.required||"true"==this.required},enumerable:!0,configurable:!0}),e.prototype.refresh=function(){var e=this;setTimeout((function(){$(e.el.nativeElement).selectpicker("refresh")}))},e.prototype.render=function(){var e=this;setTimeout((function(){$(e.el.nativeElement).selectpicker("render")}))},Object.defineProperty(e.prototype,"valid",{get:function(){return!this.requiredAttribute||this.selected&&this.selected.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return $(this.el.nativeElement).selectpicker("val")},set:function(e){this.checkIsValuesChanged(e)&&(this.oldValues=this.selected,$(this.el.nativeElement).selectpicker("val",e),this.doValidation())},enumerable:!0,configurable:!0}),e.ɵfac=function(t){return new(t||e)(i.ɵɵdirectiveInject(i.ElementRef))},e.ɵdir=i.ɵɵdefineDirective({type:e,selectors:[["","bootstrapSelect",""]],inputs:{required:"required",ngModel:"ngModel"},outputs:{ngModelChange:"ngModelChange",shown:"shown",hidden:"hidden"},exportAs:["bootstrap-select"]}),e}(),X=function(){function e(e,t){var n=this;this.el=e,this.zone=t,this.showBSTab=new i.EventEmitter,this.hideBSTab=new i.EventEmitter,this.tabShownSubscription=a.fromEvent($(this.el.nativeElement),"show.bs.tab").subscribe((function(e){n.runInZone((function(){return n.showBSTab.emit({type:e.type,target:e.target,relatedTarget:e.relatedTarget})}))})),this.tabHiddenSubscription=a.fromEvent($(this.el.nativeElement),"hidden.bs.tab").subscribe((function(e){n.runInZone((function(){return n.hideBSTab.emit({type:e.type,target:e.target,relatedTarget:e.relatedTarget})}))}))}return e.prototype.ngOnDestroy=function(){this.tabShownSubscription.unsubscribe(),this.tabHiddenSubscription.unsubscribe()},e.prototype.runInZone=function(e){this.zone.run((function(){e()}))},e.prototype.show=function(e){$(e).tab("show")},e.ɵfac=function(t){return new(t||e)(i.ɵɵdirectiveInject(i.ElementRef),i.ɵɵdirectiveInject(i.NgZone))},e.ɵdir=i.ɵɵdefineDirective({type:e,selectors:[["","bootstrapTab",""]],outputs:{showBSTab:"showBSTab",hideBSTab:"hideBSTab"},exportAs:["bootstrap-tab"]}),e}(),Y=function(){function e(e){var t=this;this.el=e,this.ngModelChange=new i.EventEmitter,this.checkedSubscription=a.fromEvent($(this.el.nativeElement),"change").subscribe((function(e){return t.ngModelChange.emit(e.target.checked)}))}return Object.defineProperty(e.prototype,"ngModel",{set:function(e){this.toggle(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initialize()},e.prototype.ngOnDestroy=function(){this.destroy()},e.prototype.initialize=function(e){$(this.el.nativeElement).bootstrapToggle(e)},e.prototype.destroy=function(){this.checkedSubscription&&this.checkedSubscription.unsubscribe(),$(this.el.nativeElement).bootstrapToggle("destroy")},e.prototype.toggleOn=function(){$(this.el.nativeElement).bootstrapToggle("on")},e.prototype.toggleOff=function(){$(this.el.nativeElement).bootstrapToggle("off")},e.prototype.toggle=function(e){null==e?$(this.el.nativeElement).bootstrapToggle("toggle"):$(this.el.nativeElement).prop("checked",e).change()},e.prototype.enable=function(){$(this.el.nativeElement).bootstrapToggle("enable")},e.prototype.disable=function(){$(this.el.nativeElement).bootstrapToggle("disable")},e.ɵfac=function(t){return new(t||e)(i.ɵɵdirectiveInject(i.ElementRef))},e.ɵdir=i.ɵɵdefineDirective({type:e,selectors:[["","bootstrapToggle",""]],inputs:{ngModel:"ngModel"},outputs:{ngModelChange:"ngModelChange"},exportAs:["bootstrap-toggle"]}),e}(),ee=function(){function e(e,t){this.validateEqual=e,this.reverse=t}return e.prototype.validate=function(e){var t=e.root.get(this.validateEqual);return t?"true"===this.reverse?this.validateReverse(e,t):this.validateNoReverse(e,t):null},e.prototype.validateNoReverse=function(e,t){return t.value===e.value?null:{validateEqual:!0}},e.prototype.validateReverse=function(e,t){return e.value===t.value?t.errors&&(delete t.errors.validateEqual,0==Object.keys(t.errors).length&&t.setErrors(null)):t.setErrors({validateEqual:!0}),null},e.ɵfac=function(t){return new(t||e)(i.ɵɵinjectAttribute("validateEqual"),i.ɵɵinjectAttribute("reverse"))},e.ɵdir=i.ɵɵdefineDirective({type:e,selectors:[["","validateEqual","","formControlName",""],["","validateEqual","","formControl",""],["","validateEqual","","ngModel",""]],features:[i.ɵɵProvidersFeature([{provide:p.NG_VALIDATORS,useExisting:i.forwardRef((function(){return e})),multi:!0}])]}),e}(),te=function(){function e(){this.lastFunction=new i.EventEmitter}return Object.defineProperty(e.prototype,"lastElement",{set:function(e){var t=this;e&&setTimeout((function(){t.lastFunction.emit()}))},enumerable:!0,configurable:!0}),e.ɵfac=function(t){return new(t||e)},e.ɵdir=i.ɵɵdefineDirective({type:e,selectors:[["","lastElement",""]],inputs:{lastElement:"lastElement"},outputs:{lastFunction:"lastFunction"}}),e}(),ne=["statusHeaderTemplate"],re=["statusTemplate"],ie=["dateTemplate"],oe=["contentHeaderTemplate"],ae=["contenBodytTemplate"],se=["actionsTemplate"];function le(e,t){1&e&&i.ɵɵelement(0,"i",7)}function ce(e,t){1&e&&i.ɵɵelement(0,"span")}function de(e,t){if(1&e&&(i.ɵɵelementStart(0,"span"),i.ɵɵtext(1),i.ɵɵelementEnd()),2&e){var n=t.row,r=t.value,o=i.ɵɵnextContext();i.ɵɵclassProp("unread",!n.isRead),i.ɵɵattribute("title",o.getPrintedDate(r)),i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",o.getPrintedDate(r)," ")}}function pe(e,t){if(1&e&&(i.ɵɵelementStart(0,"span"),i.ɵɵtext(1),i.ɵɵelementEnd()),2&e){var n=t.row,r=t.value;i.ɵɵclassProp("unread",!n.isRead),i.ɵɵattribute("title",n.body),i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",r," ")}}function ue(e,t){if(1&e&&(i.ɵɵelementStart(0,"span"),i.ɵɵtext(1),i.ɵɵelementEnd()),2&e){var n=t.row,r=t.value;i.ɵɵclassProp("unread",!n.isRead),i.ɵɵattribute("title",n.header),i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",r," ")}}function me(e,t){1&e&&i.ɵɵelement(0,"i",13)}function fe(e,t){1&e&&i.ɵɵelement(0,"i",14)}function he(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"a",8),i.ɵɵlistener("click",(function(){i.ɵɵrestoreView(n);var e=t.row;return i.ɵɵnextContext().deleteNotification(e)})),i.ɵɵpipe(1,"translate"),i.ɵɵelement(2,"i",9),i.ɵɵelementEnd(),i.ɵɵelementStart(3,"a",10),i.ɵɵlistener("click",(function(){i.ɵɵrestoreView(n);var e=t.row;return i.ɵɵnextContext().togglePin(e)})),i.ɵɵpipe(4,"translate"),i.ɵɵtemplate(5,me,1,0,"i",11),i.ɵɵtemplate(6,fe,1,0,"i",12),i.ɵɵelementEnd()}if(2&e){var r=t.row;i.ɵɵpropertyInterpolate("tooltip",i.ɵɵpipeBind1(1,4,"notifications.Delete")),i.ɵɵadvance(3),i.ɵɵpropertyInterpolate("tooltip",i.ɵɵpipeBind1(4,6,"notifications.Pin")),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",r.isPinned),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",!r.isPinned)}}var ge=function(){function e(e,t,n,r){this.alertService=e,this.translationService=t,this.accountService=n,this.notificationService=r,this.columns=[],this.rows=[],this.dataLoadingConsecutiveFailurs=0,this.verticalScrollbar=!1}return e.prototype.ngOnInit=function(){var e=this;if(this.isViewOnly)this.columns=[{prop:"date",cellTemplate:this.dateTemplate,width:100,resizeable:!1,canAutoResize:!1,sortable:!1,draggable:!1},{prop:"header",cellTemplate:this.contentHeaderTemplate,width:200,resizeable:!1,sortable:!1,draggable:!1}];else{var t=function(t){return e.translationService.getTranslation(t)};this.columns=[{prop:"",name:"",width:10,headerTemplate:this.statusHeaderTemplate,cellTemplate:this.statusTemplate,resizeable:!1,canAutoResize:!1,sortable:!1,draggable:!1},{prop:"date",name:t("notifications.Date"),cellTemplate:this.dateTemplate,width:30},{prop:"body",name:t("notifications.Notification"),cellTemplate:this.contenBodytTemplate,width:500},{name:"",width:80,cellTemplate:this.actionsTemplate,resizeable:!1,canAutoResize:!1,sortable:!1,draggable:!1}]}this.initDataLoading()},e.prototype.ngOnDestroy=function(){this.dataLoadingSubscription&&this.dataLoadingSubscription.unsubscribe()},e.prototype.initDataLoading=function(){var e=this;if(this.isViewOnly&&this.notificationService.recentNotifications)this.rows=this.processResults(this.notificationService.recentNotifications);else{this.loadingIndicator=!0;var n=this.isViewOnly?this.notificationService.getNewNotifications():this.notificationService.getNewNotificationsPeriodically();this.dataLoadingSubscription=n.subscribe((function(t){e.loadingIndicator=!1,e.dataLoadingConsecutiveFailurs=0,e.rows=e.processResults(t)}),(function(n){e.loadingIndicator=!1,e.alertService.showMessage("Load Error","Loading new notifications from the server failed!",t.MessageSeverity.warn),e.alertService.logError(n),e.dataLoadingConsecutiveFailurs++<5?setTimeout((function(){return e.initDataLoading()}),5e3):e.alertService.showStickyMessage("Load Error","Loading new notifications from the server failed!",t.MessageSeverity.error)})),this.isViewOnly&&(this.dataLoadingSubscription=null)}},e.prototype.processResults=function(e){return this.isViewOnly&&e.sort((function(e,t){return t.date.valueOf()-e.date.valueOf()})),e},e.prototype.getPrintedDate=function(e){if(e)return t.Utilities.printTimeOnly(e)+" on "+t.Utilities.printDateOnly(e)},e.prototype.deleteNotification=function(e){var n=this;this.alertService.showDialog('Are you sure you want to delete the notification "'+e.header+'"?',t.DialogType.confirm,(function(){return n.deleteNotificationHelper(e)}))},e.prototype.deleteNotificationHelper=function(e){var n=this;this.alertService.startLoadingMessage("Deleting..."),this.loadingIndicator=!0,this.notificationService.deleteNotification(e).subscribe((function(t){n.alertService.stopLoadingMessage(),n.loadingIndicator=!1,n.rows=n.rows.filter((function(t){return t.id!=e.id}))}),(function(e){n.alertService.stopLoadingMessage(),n.loadingIndicator=!1,n.alertService.showStickyMessage("Delete Error",'An error occured whilst deleting the notification.\r\nError: "'+t.Utilities.getHttpResponseMessages(e)+'"',t.MessageSeverity.error,e)}))},e.prototype.togglePin=function(e){var n=this,r=!e.isPinned,i=r?"Pinning":"Unpinning";this.alertService.startLoadingMessage(i+"..."),this.loadingIndicator=!0,this.notificationService.pinUnpinNotification(e,r).subscribe((function(t){n.alertService.stopLoadingMessage(),n.loadingIndicator=!1,e.isPinned=r}),(function(e){n.alertService.stopLoadingMessage(),n.loadingIndicator=!1,n.alertService.showStickyMessage(i+" Error","An error occured whilst "+i+' the notification.\r\nError: "'+t.Utilities.getHttpResponseMessages(e)+'"',t.MessageSeverity.error,e)}))},Object.defineProperty(e.prototype,"canManageNotifications",{get:function(){return this.accountService.userHasPermission(n.Permission.manageRolesPermission)},enumerable:!0,configurable:!0}),e.ɵfac=function(t){return new(t||e)(i.ɵɵdirectiveInject(o.AlertService),i.ɵɵdirectiveInject(o.AppTranslationService),i.ɵɵdirectiveInject(L),i.ɵɵdirectiveInject(H))},e.ɵcmp=i.ɵɵdefineComponent({type:e,selectors:[["notifications-viewer"]],viewQuery:function(e,t){var n;(1&e&&(i.ɵɵstaticViewQuery(ne,!0),i.ɵɵstaticViewQuery(re,!0),i.ɵɵstaticViewQuery(ie,!0),i.ɵɵstaticViewQuery(oe,!0),i.ɵɵstaticViewQuery(ae,!0),i.ɵɵstaticViewQuery(se,!0)),2&e)&&(i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.statusHeaderTemplate=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.statusTemplate=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.dateTemplate=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.contentHeaderTemplate=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.contenBodytTemplate=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.actionsTemplate=n.first))},inputs:{isViewOnly:"isViewOnly",verticalScrollbar:"verticalScrollbar"},decls:14,vars:9,consts:[[1,"material","colored-header","sm","table-hover",3,"loadingIndicator","rows","rowHeight","headerHeight","footerHeight","limit","columns","scrollbarV","columnMode"],["statusHeaderTemplate",""],["statusTemplate",""],["dateTemplate",""],["contentHeaderTemplate",""],["contenBodytTemplate",""],["actionsTemplate",""],[1,"fa","fa-bullhorn"],["href","javascript:;","container","body",1,"btn","btn-link","btn-sm",3,"tooltip","click"],[1,"fa","fa-times"],["href","javascript:;","co","","container","body",1,"btn","btn-link","btn-sm",3,"tooltip","click"],["class","fa fa-thumb-tack",4,"ngIf"],["class","fa fa-thumb-tack fa-rotate-90",4,"ngIf"],[1,"fa","fa-thumb-tack"],[1,"fa","fa-thumb-tack","fa-rotate-90"]],template:function(e,t){1&e&&(i.ɵɵelementStart(0,"div"),i.ɵɵelement(1,"ngx-datatable",0),i.ɵɵtemplate(2,le,1,0,"ng-template",null,1,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(4,ce,1,0,"ng-template",null,2,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(6,de,2,4,"ng-template",null,3,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(8,pe,2,4,"ng-template",null,4,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(10,ue,2,4,"ng-template",null,5,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(12,he,7,8,"ng-template",null,6,i.ɵɵtemplateRefExtractor),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(1),i.ɵɵproperty("loadingIndicator",t.loadingIndicator)("rows",t.rows)("rowHeight",35)("headerHeight",t.isViewOnly?0:35)("footerHeight",35)("limit",10)("columns",t.columns)("scrollbarV",t.verticalScrollbar)("columnMode","force"))},directives:[u.DatatableComponent,m.TooltipDirective,f.NgIf],pipes:[h.TranslatePipe],styles:[".unread[_ngcontent-%COMP%]{font-weight:700}"]}),e}(),ve=["searchInput"];function be(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"a",6),i.ɵɵlistener("click",(function(){return i.ɵɵrestoreView(n),i.ɵɵnextContext().clear()})),i.ɵɵelementEnd()}}var ye=function(){function e(){this.placeholder="Search...",this.searchChange=new i.EventEmitter}return e.prototype.onValueChange=function(e){var t=this;setTimeout((function(){return t.searchChange.emit(e)}))},e.prototype.clear=function(){this.searchInput.nativeElement.value="",this.onValueChange(this.searchInput.nativeElement.value)},e.ɵfac=function(t){return new(t||e)},e.ɵcmp=i.ɵɵdefineComponent({type:e,selectors:[["search-box"]],viewQuery:function(e,t){var n;(1&e&&i.ɵɵstaticViewQuery(ve,!0),2&e)&&(i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.searchInput=n.first))},inputs:{placeholder:"placeholder"},outputs:{searchChange:"searchChange"},decls:6,vars:2,consts:[[1,"icon-addon","addon-sm"],["for","searchInput","title","Search"],[1,"fa","fa-search","left-icon","search-icon"],["id","searchInput","type","search","ngModel","",1,"form-control","left-icon","right-icon",3,"ngModelChange"],["searchInput",""],["href","javascript:;","title","Clear","class","fa fa-times-circle clear-input right-icon",3,"click",4,"ngIf"],["href","javascript:;","title","Clear",1,"fa","fa-times-circle","clear-input","right-icon",3,"click"]],template:function(e,t){if(1&e&&(i.ɵɵelementStart(0,"div",0),i.ɵɵelementStart(1,"label",1),i.ɵɵelement(2,"i",2),i.ɵɵelementEnd(),i.ɵɵelementStart(3,"input",3,4),i.ɵɵlistener("ngModelChange",(function(e){return t.onValueChange(e)})),i.ɵɵelementEnd(),i.ɵɵtemplate(5,be,1,0,"a",5),i.ɵɵelementEnd()),2&e){var n=i.ɵɵreference(4);i.ɵɵadvance(3),i.ɵɵattribute("placeholder",t.placeholder),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",n.value)}},directives:[p.DefaultValueAccessor,p.NgControlStatus,p.NgModel,f.NgIf],styles:[".search-icon[_ngcontent-%COMP%]{pointer-events:none}"]}),e}(),Se=["f"],Ee=["userName"],we=["userPassword"],xe=["email"],Ce=["currentPassword"],Me=["newPassword"],Ie=["confirmPassword"],ke=["roles"],Pe=["rolesSelector"];function Re(e,t){if(1&e&&(i.ɵɵelementStart(0,"div"),i.ɵɵelementStart(1,"p",13),i.ɵɵtext(2),i.ɵɵelementEnd(),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext(2);i.ɵɵclassProp("col-lg-9",n.isViewOnly)("col-lg-10",!n.isViewOnly),i.ɵɵadvance(2),i.ɵɵtextInterpolate(n.user.jobTitle)}}function Ue(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div"),i.ɵɵelementStart(1,"input",14),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext(2).userEdit.jobTitle=e})),i.ɵɵelementEnd(),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵnextContext(2);i.ɵɵclassProp("col-lg-9",r.isViewOnly)("col-lg-10",!r.isViewOnly),i.ɵɵadvance(1),i.ɵɵattributeInterpolate1("id","jobTitle-",r.uniqueId,""),i.ɵɵproperty("ngModel",r.userEdit.jobTitle)}}function Te(e,t){if(1&e&&(i.ɵɵelementStart(0,"div"),i.ɵɵelementStart(1,"p",13),i.ɵɵtext(2),i.ɵɵelementEnd(),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext(2);i.ɵɵclassProp("col-lg-9",n.isViewOnly)("col-lg-10",!n.isViewOnly),i.ɵɵadvance(2),i.ɵɵtextInterpolate(n.user.userName)}}var Ne=function(e,t){return{"fa-check":e,"fa-times":t}};function Oe(e,t){if(1&e&&i.ɵɵelement(0,"i",19),2&e){i.ɵɵnextContext();var n=i.ɵɵreference(2);i.ɵɵproperty("ngClass",i.ɵɵpureFunction2(1,Ne,n.valid,!n.valid))}}function Ve(e,t){1&e&&(i.ɵɵelementStart(0,"span",20),i.ɵɵtext(1),i.ɵɵpipe(2,"translate"),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(2,1,"users.editor.UserNameRequired")," "))}var De=function(e,t){return{"is-valid":e,"is-invalid":t}};function Ae(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div"),i.ɵɵelementStart(1,"input",15,16),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext(2).userEdit.userName=e})),i.ɵɵelementEnd(),i.ɵɵtemplate(3,Oe,1,4,"i",17),i.ɵɵtemplate(4,Ve,3,3,"span",18),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵreference(2);i.ɵɵnextContext();var o=i.ɵɵreference(1),a=i.ɵɵnextContext();i.ɵɵclassProp("col-lg-9",a.isViewOnly)("col-lg-10",!a.isViewOnly),i.ɵɵadvance(1),i.ɵɵattributeInterpolate1("id","userName-",a.uniqueId,""),i.ɵɵproperty("ngClass",i.ɵɵpureFunction2(10,De,o.submitted&&r.valid,o.submitted&&!r.valid))("ngModel",a.userEdit.userName),i.ɵɵattribute("autocomplete",a.isGeneralEditor?"new-password":null),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",a.showValidationErrors&&o.submitted),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",a.showValidationErrors&&o.submitted&&!r.valid)}}function Be(e,t){1&e&&(i.ɵɵelementStart(0,"div",6),i.ɵɵelementStart(1,"div",7),i.ɵɵelement(2,"hr",21),i.ɵɵelementEnd(),i.ɵɵelementEnd())}function qe(e,t){if(1&e&&i.ɵɵelement(0,"i",19),2&e){i.ɵɵnextContext();var n=i.ɵɵreference(6);i.ɵɵproperty("ngClass",i.ɵɵpureFunction2(1,Ne,n.valid,!n.valid))}}function je(e,t){1&e&&(i.ɵɵelementStart(0,"span",20),i.ɵɵtext(1),i.ɵɵpipe(2,"translate"),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(2,1,"users.editor.CurrentPasswordRequired")," "))}function Le(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div",8),i.ɵɵelementStart(1,"label",22),i.ɵɵtext(2),i.ɵɵpipe(3,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(4,"div",23),i.ɵɵelementStart(5,"input",24,25),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext(2).userEdit.currentPassword=e})),i.ɵɵelementEnd(),i.ɵɵelementStart(7,"small",26),i.ɵɵtext(8),i.ɵɵpipe(9,"translate"),i.ɵɵelementEnd(),i.ɵɵtemplate(10,qe,1,4,"i",17),i.ɵɵtemplate(11,je,3,3,"span",18),i.ɵɵelementEnd(),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵreference(6);i.ɵɵnextContext();var o=i.ɵɵreference(1),a=i.ɵɵnextContext();i.ɵɵadvance(1),i.ɵɵpropertyInterpolate1("for","userPassword-",a.uniqueId,""),i.ɵɵadvance(1),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(3,9,"users.editor.Password")),i.ɵɵadvance(3),i.ɵɵattributeInterpolate1("id","userPassword-",a.uniqueId,""),i.ɵɵproperty("ngClass",i.ɵɵpureFunction2(13,De,o.submitted&&r.valid,o.submitted&&!r.valid))("ngModel",a.userEdit.currentPassword),i.ɵɵattribute("autocomplete",a.isGeneralEditor?"new-password":null),i.ɵɵadvance(3),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(9,11,"users.editor.PasswordHint")),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",a.showValidationErrors&&o.submitted),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",a.showValidationErrors&&o.submitted&&!r.valid)}}function _e(e,t){if(1&e&&(i.ɵɵelementStart(0,"div"),i.ɵɵelementStart(1,"p",13),i.ɵɵtext(2),i.ɵɵelementEnd(),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext(2);i.ɵɵclassProp("col-lg-9",n.isViewOnly)("col-lg-10",!n.isViewOnly),i.ɵɵadvance(2),i.ɵɵtextInterpolate(n.user.email)}}function He(e,t){if(1&e&&i.ɵɵelement(0,"i",19),2&e){i.ɵɵnextContext();var n=i.ɵɵreference(2);i.ɵɵproperty("ngClass",i.ɵɵpureFunction2(1,Ne,n.valid,!n.valid))}}function Fe(e,t){1&e&&(i.ɵɵelementStart(0,"span",20),i.ɵɵtext(1),i.ɵɵpipe(2,"translate"),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(2,1,"users.editor.EmailRequired")," "))}function Qe(e,t){1&e&&(i.ɵɵelementStart(0,"span",20),i.ɵɵtext(1),i.ɵɵpipe(2,"translate"),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(2,1,"users.editor.InvalidEmail")," "))}function $e(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div"),i.ɵɵelementStart(1,"input",27,28),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext(2).userEdit.email=e})),i.ɵɵelementEnd(),i.ɵɵtemplate(3,He,1,4,"i",17),i.ɵɵtemplate(4,Fe,3,3,"span",18),i.ɵɵtemplate(5,Qe,3,3,"span",18),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵreference(2);i.ɵɵnextContext();var o=i.ɵɵreference(1),a=i.ɵɵnextContext();i.ɵɵclassProp("col-lg-9",a.isViewOnly)("col-lg-10",!a.isViewOnly),i.ɵɵadvance(1),i.ɵɵattributeInterpolate1("id","email-",a.uniqueId,""),i.ɵɵproperty("ngClass",i.ɵɵpureFunction2(10,De,o.submitted&&r.valid,o.submitted&&!r.valid))("ngModel",a.userEdit.email),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",a.showValidationErrors&&o.submitted),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",a.showValidationErrors&&o.submitted&&(null==r.errors?null:r.errors.required)),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",a.showValidationErrors&&o.submitted&&(null==r.errors?null:r.errors.pattern))}}function ze(e,t){if(1&e&&(i.ɵɵelementStart(0,"div",6),i.ɵɵelementStart(1,"div",7),i.ɵɵelement(2,"hr"),i.ɵɵelementEnd(),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext(2);i.ɵɵadvance(2),i.ɵɵclassProp("separator-hr",!n.isEditMode)("edit-separator-hr",n.isEditMode)}}function Ge(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div",23),i.ɵɵelementStart(1,"button",30),i.ɵɵlistener("click",(function(){return i.ɵɵrestoreView(n),i.ɵɵnextContext(3).changePassword()})),i.ɵɵtext(2),i.ɵɵpipe(3,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd()}2&e&&(i.ɵɵadvance(2),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(3,1,"users.editor.ChangePassword")))}function Je(e,t){if(1&e&&i.ɵɵelement(0,"i",19),2&e){i.ɵɵnextContext();var n=i.ɵɵreference(6);i.ɵɵproperty("ngClass",i.ɵɵpureFunction2(1,Ne,n.valid,!n.valid))}}function We(e,t){1&e&&(i.ɵɵelementStart(0,"span",20),i.ɵɵtext(1),i.ɵɵpipe(2,"translate"),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(2,1,"users.editor.CurrentPasswordRequired")," "))}function Ze(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div",8),i.ɵɵelementStart(1,"label",32),i.ɵɵtext(2),i.ɵɵpipe(3,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(4,"div",33),i.ɵɵelementStart(5,"input",38,39),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext(4).userEdit.currentPassword=e})),i.ɵɵelementEnd(),i.ɵɵtemplate(7,Je,1,4,"i",17),i.ɵɵtemplate(8,We,3,3,"span",18),i.ɵɵelementEnd(),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵreference(6);i.ɵɵnextContext(3);var o=i.ɵɵreference(1),a=i.ɵɵnextContext();i.ɵɵadvance(1),i.ɵɵpropertyInterpolate1("for","currentPassword-",a.uniqueId,""),i.ɵɵadvance(1),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(3,8,"users.editor.CurrentPassword")),i.ɵɵadvance(3),i.ɵɵattributeInterpolate1("id","currentPassword-",a.uniqueId,""),i.ɵɵproperty("ngClass",i.ɵɵpureFunction2(10,De,o.submitted&&r.valid,o.submitted&&!r.valid))("ngModel",a.userEdit.currentPassword),i.ɵɵattribute("autocomplete",a.isGeneralEditor?"new-password":null),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",a.showValidationErrors&&o.submitted),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",a.showValidationErrors&&o.submitted&&!r.valid)}}function Ke(e,t){1&e&&(i.ɵɵelementStart(0,"div",6),i.ɵɵelementStart(1,"div",7),i.ɵɵelement(2,"hr",21),i.ɵɵelementEnd(),i.ɵɵelementEnd())}function Xe(e,t){if(1&e&&i.ɵɵelement(0,"i",19),2&e){i.ɵɵnextContext();var n=i.ɵɵreference(10);i.ɵɵproperty("ngClass",i.ɵɵpureFunction2(1,Ne,n.valid,!n.valid))}}function Ye(e,t){1&e&&(i.ɵɵelementStart(0,"span",20),i.ɵɵtext(1),i.ɵɵpipe(2,"translate"),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(2,1,"users.editor.NewPasswordRequired")," "))}function et(e,t){if(1&e&&i.ɵɵelement(0,"i",19),2&e){i.ɵɵnextContext();var n=i.ɵɵreference(22);i.ɵɵproperty("ngClass",i.ɵɵpureFunction2(1,Ne,n.valid,!n.valid))}}function tt(e,t){1&e&&(i.ɵɵelementStart(0,"span",20),i.ɵɵtext(1),i.ɵɵpipe(2,"translate"),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(2,1,"users.editor.ConfirmationPasswordRequired")," "))}function nt(e,t){1&e&&(i.ɵɵelementStart(0,"span",20),i.ɵɵtext(1),i.ɵɵpipe(2,"translate"),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(2,1,"users.editor.PasswordMismatch")," "))}function rt(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div",23),i.ɵɵelementStart(1,"div",31),i.ɵɵtemplate(2,Ze,9,13,"div",10),i.ɵɵtemplate(3,Ke,3,0,"div",9),i.ɵɵelementStart(4,"div",8),i.ɵɵelementStart(5,"label",32),i.ɵɵtext(6),i.ɵɵpipe(7,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(8,"div",33),i.ɵɵelementStart(9,"input",34,35),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext(3).userEdit.newPassword=e})),i.ɵɵelementEnd(),i.ɵɵtemplate(11,Xe,1,4,"i",17),i.ɵɵtemplate(12,Ye,3,3,"span",18),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(13,"div",6),i.ɵɵelementStart(14,"div",7),i.ɵɵelement(15,"hr",21),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(16,"div",8),i.ɵɵelementStart(17,"label",32),i.ɵɵtext(18),i.ɵɵpipe(19,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(20,"div",33),i.ɵɵelementStart(21,"input",36,37),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext(3).userEdit.confirmPassword=e})),i.ɵɵelementEnd(),i.ɵɵtemplate(23,et,1,4,"i",17),i.ɵɵtemplate(24,tt,3,3,"span",18),i.ɵɵtemplate(25,nt,3,3,"span",18),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵreference(10),o=i.ɵɵreference(22);i.ɵɵnextContext(2);var a=i.ɵɵreference(1),s=i.ɵɵnextContext();i.ɵɵadvance(2),i.ɵɵproperty("ngIf",s.isEditingSelf),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",!s.isNewUser),i.ɵɵadvance(2),i.ɵɵpropertyInterpolate1("for","newPassword-",s.uniqueId,""),i.ɵɵadvance(1),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(7,19,"users.editor.NewPassword")),i.ɵɵadvance(3),i.ɵɵattributeInterpolate1("id","newPassword-",s.uniqueId,""),i.ɵɵproperty("ngClass",i.ɵɵpureFunction2(23,De,a.submitted&&r.valid,a.submitted&&!r.valid))("ngModel",s.userEdit.newPassword),i.ɵɵattribute("autocomplete",s.isGeneralEditor?"new-password":null),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",s.showValidationErrors&&a.submitted),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",s.showValidationErrors&&a.submitted&&!r.valid),i.ɵɵadvance(5),i.ɵɵpropertyInterpolate1("for","confirmPassword-",s.uniqueId,""),i.ɵɵadvance(1),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(19,21,"users.editor.ConfirmPassword")),i.ɵɵadvance(3),i.ɵɵattributeInterpolate1("id","confirmPassword-",s.uniqueId,""),i.ɵɵproperty("ngClass",i.ɵɵpureFunction2(26,De,a.submitted&&o.valid,a.submitted&&!o.valid))("ngModel",s.userEdit.confirmPassword),i.ɵɵattribute("autocomplete",s.isGeneralEditor?"new-password":null),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",s.showValidationErrors&&a.submitted),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",s.showValidationErrors&&a.submitted&&(null==o.errors?null:o.errors.required)),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",s.showValidationErrors&&a.submitted&&(null==o.errors?null:o.errors.validateEqual)&&!(null!=o.errors&&o.errors.required))}}function it(e,t){if(1&e&&(i.ɵɵelementStart(0,"div",3),i.ɵɵelementStart(1,"label",22),i.ɵɵtext(2),i.ɵɵpipe(3,"translate"),i.ɵɵelementEnd(),i.ɵɵtemplate(4,Ge,4,3,"div",29),i.ɵɵtemplate(5,rt,26,29,"div",29),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext(2);i.ɵɵadvance(1),i.ɵɵpropertyInterpolate1("for","newPassword-",n.uniqueId,""),i.ɵɵadvance(1),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(3,4,"users.editor.Password")),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",!n.isChangePassword&&!n.isNewUser),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",n.isChangePassword||n.isNewUser)}}function ot(e,t){if(1&e&&(i.ɵɵelementStart(0,"div",6),i.ɵɵelementStart(1,"div",7),i.ɵɵelement(2,"hr"),i.ɵɵelementEnd(),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext(2);i.ɵɵadvance(2),i.ɵɵclassProp("separator-hr",!n.isEditMode)("edit-separator-hr",n.isEditMode)}}function at(e,t){if(1&e&&(i.ɵɵelementStart(0,"span"),i.ɵɵtext(1,"\n            "),i.ɵɵelementStart(2,"span",43),i.ɵɵtext(3),i.ɵɵelementEnd(),i.ɵɵtext(4,"\n          "),i.ɵɵelementEnd()),2&e){var n,r=t.$implicit,o=i.ɵɵnextContext(4);i.ɵɵadvance(2),i.ɵɵpropertyInterpolate("title",null==(n=o.getRoleByName(r))?null:n.description),i.ɵɵadvance(1),i.ɵɵtextInterpolate(r)}}function st(e,t){if(1&e&&(i.ɵɵelementStart(0,"div"),i.ɵɵelementStart(1,"p",13),i.ɵɵtext(2,"\n          "),i.ɵɵtemplate(3,at,5,2,"span",42),i.ɵɵtext(4,"\n        "),i.ɵɵelementEnd(),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext(3);i.ɵɵclassProp("col-lg-9",n.isViewOnly)("col-lg-10",!n.isViewOnly),i.ɵɵadvance(3),i.ɵɵproperty("ngForOf",n.user.roles)}}function lt(e,t){if(1&e&&(i.ɵɵelementStart(0,"option"),i.ɵɵtext(1),i.ɵɵelementEnd()),2&e){var n=t.$implicit;i.ɵɵattributeInterpolate2("data-content","<span title='",n.description,"' class='badge badge-pill badge-secondary'>",n.name,"</span>"),i.ɵɵattribute("value",n.name),i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",n.name," ")}}function ct(e,t){if(1&e&&i.ɵɵelement(0,"i",19),2&e){i.ɵɵnextContext();var n=i.ɵɵreference(2);i.ɵɵproperty("ngClass",i.ɵɵpureFunction2(1,Ne,n.valid,!n.valid))}}function dt(e,t){1&e&&(i.ɵɵelementStart(0,"span",20),i.ɵɵtext(1),i.ɵɵpipe(2,"translate"),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(2,1,"users.editor.RoleRequired")," "))}function pt(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div",44),i.ɵɵelementStart(1,"select",45,46),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext(3).userEdit.roles=e})),i.ɵɵtemplate(4,lt,2,4,"option",42),i.ɵɵelementEnd(),i.ɵɵtemplate(5,ct,1,4,"i",17),i.ɵɵtemplate(6,dt,3,3,"span",18),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵreference(2);i.ɵɵnextContext(2);var o=i.ɵɵreference(1),a=i.ɵɵnextContext();i.ɵɵclassProp("col-lg-9",a.isViewOnly)("col-lg-10",!a.isViewOnly),i.ɵɵproperty("ngClass",i.ɵɵpureFunction2(9,De,o.submitted&&r.valid,o.submitted&&!r.valid)),i.ɵɵadvance(1),i.ɵɵproperty("ngModel",a.userEdit.roles),i.ɵɵadvance(3),i.ɵɵproperty("ngForOf",a.allRoles),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",a.showValidationErrors&&o.submitted),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",a.showValidationErrors&&o.submitted&&!r.valid)}}function ut(e,t){if(1&e&&(i.ɵɵelementStart(0,"div",8),i.ɵɵelementStart(1,"label",40),i.ɵɵtext(2),i.ɵɵpipe(3,"translate"),i.ɵɵelementEnd(),i.ɵɵtemplate(4,st,5,5,"div",5),i.ɵɵtemplate(5,pt,7,12,"div",41),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext(2);i.ɵɵadvance(1),i.ɵɵclassProp("col-lg-3",n.isViewOnly)("col-lg-2",!n.isViewOnly),i.ɵɵadvance(1),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(3,7,"users.editor.Roles")),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",!n.isEditMode),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",n.isEditMode&&n.canAssignRoles&&!n.isEditingSelf)}}function mt(e,t){if(1&e&&(i.ɵɵelementStart(0,"div"),i.ɵɵelementStart(1,"p",13),i.ɵɵtext(2),i.ɵɵelementEnd(),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext(2);i.ɵɵclassProp("col-lg-9",n.isViewOnly)("col-lg-10",!n.isViewOnly),i.ɵɵadvance(2),i.ɵɵtextInterpolate(n.user.fullName)}}function ft(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div"),i.ɵɵelementStart(1,"input",47),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext(2).userEdit.fullName=e})),i.ɵɵelementEnd(),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵnextContext(2);i.ɵɵclassProp("col-lg-9",r.isViewOnly)("col-lg-10",!r.isViewOnly),i.ɵɵadvance(1),i.ɵɵattributeInterpolate1("id","fullName-",r.uniqueId,""),i.ɵɵproperty("ngModel",r.userEdit.fullName)}}function ht(e,t){if(1&e&&(i.ɵɵelementStart(0,"div"),i.ɵɵelementStart(1,"p",13),i.ɵɵtext(2),i.ɵɵelementEnd(),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext(2);i.ɵɵclassProp("col-lg-9",n.isViewOnly)("col-lg-10",!n.isViewOnly),i.ɵɵadvance(2),i.ɵɵtextInterpolate(n.user.phoneNumber)}}function gt(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div"),i.ɵɵelementStart(1,"input",48),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext(2).userEdit.phoneNumber=e})),i.ɵɵelementEnd(),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵnextContext(2);i.ɵɵclassProp("col-lg-9",r.isViewOnly)("col-lg-10",!r.isViewOnly),i.ɵɵadvance(1),i.ɵɵattributeInterpolate1("id","phoneNumber-",r.uniqueId,""),i.ɵɵproperty("ngModel",r.userEdit.phoneNumber)}}function vt(e,t){if(1&e&&(i.ɵɵelementStart(0,"div",6),i.ɵɵelementStart(1,"div",7),i.ɵɵelement(2,"hr"),i.ɵɵelementEnd(),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext(2);i.ɵɵadvance(2),i.ɵɵclassProp("last-separator-hr",!n.isEditMode)("edit-last-separator-hr",n.isEditMode)}}function bt(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"button",61),i.ɵɵlistener("click",(function(){return i.ɵɵrestoreView(n),i.ɵɵnextContext(4).unlockUser()})),i.ɵɵelement(1,"i",62),i.ɵɵtext(2),i.ɵɵpipe(3,"translate"),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵnextContext(4);i.ɵɵproperty("disabled",r.isSaving),i.ɵɵadvance(2),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(3,2,"users.editor.Unblock"),"")}}function yt(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div",56),i.ɵɵelementStart(1,"div",57),i.ɵɵelementStart(2,"input",58),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext(3).userEdit.isEnabled=e})),i.ɵɵelementEnd(),i.ɵɵelementStart(3,"label",59),i.ɵɵtext(4),i.ɵɵpipe(5,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵtemplate(6,bt,4,4,"button",60),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵnextContext(3);i.ɵɵadvance(2),i.ɵɵproperty("ngModel",r.userEdit.isEnabled),i.ɵɵadvance(2),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(5,3,"users.editor.Enabled")),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",r.userEdit.isLockedOut)}}function St(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"button",63),i.ɵɵlistener("click",(function(){return i.ɵɵrestoreView(n),i.ɵɵnextContext(3).close()})),i.ɵɵelement(1,"i",64),i.ɵɵtext(2),i.ɵɵpipe(3,"translate"),i.ɵɵelementEnd()}2&e&&(i.ɵɵadvance(2),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(3,1,"users.editor.Close"),""))}function Et(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"button",63),i.ɵɵlistener("click",(function(){return i.ɵɵrestoreView(n),i.ɵɵnextContext(3).edit()})),i.ɵɵelement(1,"i",65),i.ɵɵtext(2),i.ɵɵpipe(3,"translate"),i.ɵɵelementEnd()}2&e&&(i.ɵɵadvance(2),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(3,1,"users.editor.Edit"),""))}function wt(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"button",66),i.ɵɵlistener("click",(function(){return i.ɵɵrestoreView(n),i.ɵɵnextContext(3).cancel()})),i.ɵɵelement(1,"i",67),i.ɵɵtext(2),i.ɵɵpipe(3,"translate"),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵnextContext(3);i.ɵɵproperty("disabled",r.isSaving),i.ɵɵadvance(2),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(3,2,"users.editor.Cancel"),"")}}function xt(e,t){1&e&&i.ɵɵelement(0,"i",71)}function Ct(e,t){1&e&&i.ɵɵelement(0,"i",72)}function Mt(e,t){if(1&e&&(i.ɵɵelementStart(0,"button",68),i.ɵɵtext(1,"\n            "),i.ɵɵtemplate(2,xt,1,0,"i",69),i.ɵɵtemplate(3,Ct,1,0,"i",70),i.ɵɵtext(4),i.ɵɵpipe(5,"translate"),i.ɵɵpipe(6,"translate"),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext(3);i.ɵɵproperty("disabled",n.isSaving),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",!n.isSaving),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",n.isSaving),i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",n.isSaving?i.ɵɵpipeBind1(5,4,"users.editor.Saving"):i.ɵɵpipeBind1(6,6,"users.editor.Save"),"\n          ")}}function It(e,t){if(1&e&&(i.ɵɵelementStart(0,"div",3),i.ɵɵelementStart(1,"div",49),i.ɵɵtemplate(2,yt,7,5,"div",50),i.ɵɵelementEnd(),i.ɵɵelementStart(3,"div",51),i.ɵɵelementStart(4,"div",52),i.ɵɵtext(5,"\n          "),i.ɵɵtemplate(6,St,4,3,"button",53),i.ɵɵtext(7,"\n          "),i.ɵɵtemplate(8,Et,4,3,"button",53),i.ɵɵtext(9,"\n          "),i.ɵɵtemplate(10,wt,4,4,"button",54),i.ɵɵtext(11,"\n          "),i.ɵɵtemplate(12,Mt,7,8,"button",55),i.ɵɵtext(13,"\n        "),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext(2);i.ɵɵadvance(2),i.ɵɵproperty("ngIf",n.isGeneralEditor&&n.isEditMode),i.ɵɵadvance(4),i.ɵɵproperty("ngIf",!n.isEditMode&&n.isGeneralEditor),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",!n.isEditMode&&!n.isGeneralEditor),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",n.isEditMode),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",n.isEditMode)}}function kt(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"form",1,2),i.ɵɵlistener("ngSubmit",(function(){i.ɵɵrestoreView(n);var e=i.ɵɵreference(1),t=i.ɵɵnextContext();return e.form.valid?t.save():!t.userName.valid&&t.showErrorAlert("User name is required","Please enter a user name (minimum of 2 and maximum of 200 characters)"),t.userPassword&&!t.userPassword.valid&&t.showErrorAlert("Password is required","Please enter the current password"),null!=t.email.errors&&t.email.errors.required&&t.showErrorAlert("Email is required","Please enter an email address (maximum of 200 characters)"),null!=t.email.errors&&t.email.errors.pattern&&t.showErrorAlert("Invalid Email","Please enter a valid email address"),t.isChangePassword&&t.isEditingSelf&&!t.currentPassword.valid&&t.showErrorAlert("Current password is required","Please enter the current password"),(t.isChangePassword||t.isNewUser)&&!t.newPassword.valid&&t.showErrorAlert("New password is required","Please enter the new password (minimum of 6 characters)"),(t.isChangePassword||t.isNewUser)&&t.newPassword.valid&&null!=t.confirmPassword.errors&&t.confirmPassword.errors.required&&t.showErrorAlert("Confirmation password is required","Please enter the confirmation password"),(t.isChangePassword||t.isNewUser)&&t.newPassword.valid&&null!=t.confirmPassword.errors&&t.confirmPassword.errors.validateEqual&&t.showErrorAlert("Passwword mismatch","New password and confirmation password do not match"),t.canAssignRoles&&!t.isEditingSelf&&!t.roles.valid&&t.showErrorAlert("Roles is required","Please select a minimum of 1 role")})),i.ɵɵelementStart(2,"div",3),i.ɵɵelementStart(3,"label",4),i.ɵɵtext(4),i.ɵɵpipe(5,"translate"),i.ɵɵelementEnd(),i.ɵɵtemplate(6,Re,3,5,"div",5),i.ɵɵtemplate(7,Ue,2,6,"div",5),i.ɵɵelementEnd(),i.ɵɵelementStart(8,"div",6),i.ɵɵelementStart(9,"div",7),i.ɵɵelement(10,"hr"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(11,"div",8),i.ɵɵelementStart(12,"label",4),i.ɵɵtext(13),i.ɵɵpipe(14,"translate"),i.ɵɵelementEnd(),i.ɵɵtemplate(15,Te,3,5,"div",5),i.ɵɵtemplate(16,Ae,5,13,"div",5),i.ɵɵelementEnd(),i.ɵɵtemplate(17,Be,3,0,"div",9),i.ɵɵtemplate(18,Le,12,16,"div",10),i.ɵɵelementStart(19,"div",6),i.ɵɵelementStart(20,"div",7),i.ɵɵelement(21,"hr"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(22,"div",8),i.ɵɵelementStart(23,"label",4),i.ɵɵtext(24),i.ɵɵpipe(25,"translate"),i.ɵɵelementEnd(),i.ɵɵtemplate(26,_e,3,5,"div",5),i.ɵɵtemplate(27,$e,6,13,"div",5),i.ɵɵelementEnd(),i.ɵɵtemplate(28,ze,3,4,"div",9),i.ɵɵtemplate(29,it,6,6,"div",11),i.ɵɵtemplate(30,ot,3,4,"div",9),i.ɵɵtemplate(31,ut,6,9,"div",10),i.ɵɵelementStart(32,"div",6),i.ɵɵelementStart(33,"div",7),i.ɵɵelement(34,"hr"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(35,"div",3),i.ɵɵelementStart(36,"label",4),i.ɵɵtext(37),i.ɵɵpipe(38,"translate"),i.ɵɵelementEnd(),i.ɵɵtemplate(39,mt,3,5,"div",5),i.ɵɵtemplate(40,ft,2,6,"div",5),i.ɵɵelementEnd(),i.ɵɵelementStart(41,"div",6),i.ɵɵelementStart(42,"div",7),i.ɵɵelement(43,"hr"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(44,"div",3),i.ɵɵelementStart(45,"label",4),i.ɵɵtext(46),i.ɵɵpipe(47,"translate"),i.ɵɵelementEnd(),i.ɵɵtemplate(48,ht,3,5,"div",5),i.ɵɵtemplate(49,gt,2,6,"div",5),i.ɵɵelementEnd(),i.ɵɵtemplate(50,vt,3,4,"div",9),i.ɵɵtemplate(51,It,14,5,"div",11),i.ɵɵelement(52,"div",12),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵnextContext();i.ɵɵattribute("autocomplete",r.isGeneralEditor?"NaN":null),i.ɵɵadvance(3),i.ɵɵclassProp("col-lg-3",r.isViewOnly)("col-lg-2",!r.isViewOnly),i.ɵɵpropertyInterpolate1("for","jobTitle-",r.uniqueId,""),i.ɵɵadvance(1),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(5,65,"users.editor.JobTitle")),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",!r.isEditMode),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",r.isEditMode),i.ɵɵadvance(3),i.ɵɵclassProp("separator-hr",!r.isEditMode)("edit-separator-hr",r.isEditMode),i.ɵɵadvance(2),i.ɵɵclassProp("col-lg-3",r.isViewOnly)("col-lg-2",!r.isViewOnly),i.ɵɵpropertyInterpolate1("for","userName-",r.uniqueId,""),i.ɵɵadvance(1),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(14,67,"users.editor.UserName")),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",!r.isEditMode||r.isEditingSelf),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",r.isEditMode&&!r.isEditingSelf),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",r.isEditMode&&r.isEditingSelf&&!r.isChangePassword&&r.user.userName!=r.userEdit.userName),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",r.isEditMode&&r.isEditingSelf&&!r.isChangePassword&&r.user.userName!=r.userEdit.userName),i.ɵɵadvance(3),i.ɵɵclassProp("separator-hr",!r.isEditMode)("edit-separator-hr",r.isEditMode),i.ɵɵadvance(2),i.ɵɵclassProp("col-lg-3",r.isViewOnly)("col-lg-2",!r.isViewOnly),i.ɵɵpropertyInterpolate1("for","email-",r.uniqueId,""),i.ɵɵadvance(1),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(25,69,"users.editor.Email")),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",!r.isEditMode),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",r.isEditMode),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",r.isEditMode),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",r.isEditMode),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",!r.isEditMode||r.canAssignRoles||r.isEditingSelf),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",!r.isEditMode||r.canAssignRoles||r.isEditingSelf),i.ɵɵadvance(3),i.ɵɵclassProp("separator-hr",!r.isEditMode)("edit-separator-hr",r.isEditMode),i.ɵɵadvance(2),i.ɵɵclassProp("col-lg-3",r.isViewOnly)("col-lg-2",!r.isViewOnly),i.ɵɵpropertyInterpolate1("for","fullName-",r.uniqueId,""),i.ɵɵadvance(1),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(38,71,"users.editor.FullName")),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",!r.isEditMode),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",r.isEditMode),i.ɵɵadvance(3),i.ɵɵclassProp("separator-hr",!r.isEditMode)("edit-separator-hr",r.isEditMode),i.ɵɵadvance(2),i.ɵɵclassProp("col-lg-3",r.isViewOnly)("col-lg-2",!r.isViewOnly),i.ɵɵpropertyInterpolate1("for","phoneNumber-",r.uniqueId,""),i.ɵɵadvance(1),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(47,73,"users.editor.PhoneNumber")),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",!r.isEditMode),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",r.isEditMode),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",!r.isViewOnly),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",!r.isViewOnly)}}var Pt=function(){function e(e,r){this.alertService=e,this.accountService=r,this.isEditMode=!1,this.isNewUser=!1,this.isSaving=!1,this.isChangePassword=!1,this.isEditingSelf=!1,this.showValidationErrors=!1,this.uniqueId=t.Utilities.uniqueId(),this.user=new n.User,this.allRoles=[],this.formResetToggle=!0,this.isGeneralEditor=!1}return e.prototype.ngOnInit=function(){this.isGeneralEditor||this.loadCurrentUserData()},e.prototype.loadCurrentUserData=function(){var e=this;this.alertService.startLoadingMessage(),this.canViewAllRoles?this.accountService.getUserAndRoles().subscribe((function(t){return e.onCurrentUserDataLoadSuccessful(t[0],t[1])}),(function(t){return e.onCurrentUserDataLoadFailed(t)})):this.accountService.getUser().subscribe((function(t){return e.onCurrentUserDataLoadSuccessful(t,t.roles.map((function(e){return new O(e)})))}),(function(t){return e.onCurrentUserDataLoadFailed(t)}))},e.prototype.onCurrentUserDataLoadSuccessful=function(e,t){this.alertService.stopLoadingMessage(),this.user=e,this.allRoles=t},e.prototype.onCurrentUserDataLoadFailed=function(e){this.alertService.stopLoadingMessage(),this.alertService.showStickyMessage("Load Error",'Unable to retrieve user data from the server.\r\nErrors: "'+t.Utilities.getHttpResponseMessages(e)+'"',t.MessageSeverity.error,e),this.user=new n.User},e.prototype.getRoleByName=function(e){return this.allRoles.find((function(t){return t.name==e}))},e.prototype.showErrorAlert=function(e,n){this.alertService.showMessage(e,n,t.MessageSeverity.error)},e.prototype.deletePasswordFromUser=function(e){var t=e;delete t.currentPassword,delete t.newPassword,delete t.confirmPassword},e.prototype.edit=function(){this.isGeneralEditor?(this.userEdit||(this.userEdit=new V),this.isEditingSelf=!!this.accountService.currentUser&&this.userEdit.id==this.accountService.currentUser.id):(this.isEditingSelf=!0,this.userEdit=new V,Object.assign(this.userEdit,this.user)),this.isEditMode=!0,this.showValidationErrors=!0,this.isChangePassword=!1},e.prototype.save=function(){var e=this;this.isSaving=!0,this.alertService.startLoadingMessage("Saving changes..."),this.isNewUser?this.accountService.newUser(this.userEdit).subscribe((function(t){return e.saveSuccessHelper(t)}),(function(t){return e.saveFailedHelper(t)})):this.accountService.updateUser(this.userEdit).subscribe((function(t){return e.saveSuccessHelper()}),(function(t){return e.saveFailedHelper(t)}))},e.prototype.saveSuccessHelper=function(e){this.testIsRoleUserCountChanged(this.user,this.userEdit),e&&Object.assign(this.userEdit,e),this.isSaving=!1,this.alertService.stopLoadingMessage(),this.isChangePassword=!1,this.showValidationErrors=!1,this.deletePasswordFromUser(this.userEdit),Object.assign(this.user,this.userEdit),this.userEdit=new V,this.resetForm(),this.isGeneralEditor&&(this.isNewUser?this.alertService.showMessage("Success",'User "'+this.user.userName+'" was created successfully',t.MessageSeverity.success):this.isEditingSelf||this.alertService.showMessage("Success",'Changes to user "'+this.user.userName+'" was saved successfully',t.MessageSeverity.success)),this.isEditingSelf&&(this.alertService.showMessage("Success","Changes to your User Profile was saved successfully",t.MessageSeverity.success),this.refreshLoggedInUser()),this.isEditMode=!1,this.changesSavedCallback&&this.changesSavedCallback()},e.prototype.saveFailedHelper=function(e){this.isSaving=!1,this.alertService.stopLoadingMessage(),this.alertService.showStickyMessage("Save Error","The below errors occured whilst saving your changes:",t.MessageSeverity.error,e),this.alertService.showStickyMessage(e,null,t.MessageSeverity.error),this.changesFailedCallback&&this.changesFailedCallback()},e.prototype.testIsRoleUserCountChanged=function(e,t){var n=this,r=this.isNewUser?t.roles:t.roles.filter((function(t){return-1==e.roles.indexOf(t)})),i=this.isNewUser?[]:e.roles.filter((function(e){return-1==t.roles.indexOf(e)})),o=r.concat(i);o.length&&setTimeout((function(){return n.accountService.onRolesUserCountChanged(o)}))},e.prototype.cancel=function(){this.isGeneralEditor?this.userEdit=this.user=new V:this.userEdit=new V,this.showValidationErrors=!1,this.resetForm(),this.alertService.showMessage("Cancelled","Operation cancelled by user",t.MessageSeverity.default),this.alertService.resetStickyMessage(),this.isGeneralEditor||(this.isEditMode=!1),this.changesCancelledCallback&&this.changesCancelledCallback()},e.prototype.close=function(){this.userEdit=this.user=new V,this.showValidationErrors=!1,this.resetForm(),this.isEditMode=!1,this.changesSavedCallback&&this.changesSavedCallback()},e.prototype.refreshLoggedInUser=function(){var e=this;this.accountService.refreshLoggedInUser().subscribe((function(t){e.loadCurrentUserData()}),(function(n){e.alertService.resetStickyMessage(),e.alertService.showStickyMessage("Refresh failed","An error occured whilst refreshing logged in user information from the server",t.MessageSeverity.error,n)}))},e.prototype.changePassword=function(){this.isChangePassword=!0},e.prototype.unlockUser=function(){var e=this;this.isSaving=!0,this.alertService.startLoadingMessage("Unblocking user..."),this.accountService.unblockUser(this.userEdit.id).subscribe((function(){e.isSaving=!1,e.userEdit.isLockedOut=!1,e.alertService.stopLoadingMessage(),e.alertService.showMessage("Success","User has been successfully unblocked",t.MessageSeverity.success)}),(function(n){e.isSaving=!1,e.alertService.stopLoadingMessage(),e.alertService.showStickyMessage("Unblock Error","The below errors occured whilst unblocking the user:",t.MessageSeverity.error,n),e.alertService.showStickyMessage(n,null,t.MessageSeverity.error)}))},e.prototype.resetForm=function(e){var t=this;void 0===e&&(e=!1),this.isChangePassword=!1,e?(this.formResetToggle=!1,setTimeout((function(){t.formResetToggle=!0}))):this.form.reset()},e.prototype.newUser=function(e){return this.isGeneralEditor=!0,this.isNewUser=!0,this.allRoles=U(e),this.user=this.userEdit=new V,this.userEdit.isEnabled=!0,this.edit(),this.userEdit},e.prototype.editUser=function(e,t){return e?(this.isGeneralEditor=!0,this.isNewUser=!1,this.setRoles(e,t),this.user=new n.User,this.userEdit=new V,Object.assign(this.user,e),Object.assign(this.userEdit,e),this.edit(),this.userEdit):this.newUser(t)},e.prototype.displayUser=function(e,t){this.user=new n.User,Object.assign(this.user,e),this.deletePasswordFromUser(this.user),this.setRoles(e,t),this.isEditMode=!1},e.prototype.setRoles=function(e,t){var n,r,i=this;if(this.allRoles=t?U(t):[],e.roles){var o=function(e){a.allRoles.some((function(t){return t.name==e}))||a.allRoles.unshift(new O(e))},a=this;try{for(var s=P(e.roles),l=s.next();!l.done;l=s.next()){o(l.value)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}null!=t&&this.allRoles.length==t.length||setTimeout((function(){i.rolesSelector&&i.rolesSelector.refresh()}))},Object.defineProperty(e.prototype,"canViewAllRoles",{get:function(){return this.accountService.userHasPermission(n.Permission.viewRolesPermission)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canAssignRoles",{get:function(){return this.accountService.userHasPermission(n.Permission.assignRolesPermission)},enumerable:!0,configurable:!0}),e.ɵfac=function(t){return new(t||e)(i.ɵɵdirectiveInject(o.AlertService),i.ɵɵdirectiveInject(L))},e.ɵcmp=i.ɵɵdefineComponent({type:e,selectors:[["user-info"]],viewQuery:function(e,t){var n;(1&e&&(i.ɵɵviewQuery(Se,!0),i.ɵɵviewQuery(Ee,!0),i.ɵɵviewQuery(we,!0),i.ɵɵviewQuery(xe,!0),i.ɵɵviewQuery(Ce,!0),i.ɵɵviewQuery(Me,!0),i.ɵɵviewQuery(Ie,!0),i.ɵɵviewQuery(ke,!0),i.ɵɵviewQuery(Pe,!0)),2&e)&&(i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.form=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.userName=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.userPassword=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.email=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.currentPassword=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.newPassword=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.confirmPassword=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.roles=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.rolesSelector=n.first))},inputs:{isViewOnly:"isViewOnly",isGeneralEditor:"isGeneralEditor"},decls:2,vars:1,consts:[["name","userInfoForm","novalidate","",3,"ngSubmit",4,"ngIf"],["name","userInfoForm","novalidate","",3,"ngSubmit"],["f","ngForm"],[1,"form-group","row"],[1,"col-form-label",3,"for"],[3,"col-lg-9","col-lg-10",4,"ngIf"],[1,"row"],[1,"col-lg-12"],[1,"form-group","row","has-feedback-icon"],["class","row",4,"ngIf"],["class","form-group row has-feedback-icon",4,"ngIf"],["class","form-group row",4,"ngIf"],[1,"clearfix"],[1,"form-control-plaintext"],["autofocus","","type","text","name","jobTitle","placeholder","Enter Job Title",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","userName","placeholder","Enter user name","required","","minlength","2","maxlength","200",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["userName","ngModel"],["class","fa form-control-feedback","aria-hidden","true",3,"ngClass",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],["aria-hidden","true",1,"fa","form-control-feedback",3,"ngClass"],[1,"invalid-feedback"],[1,"password-separator-hr"],[1,"col-form-label","col-lg-2",3,"for"],[1,"col-lg-10"],["type","password","name","userPassword","placeholder","Enter password","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["userPassword","ngModel"],[1,"hint-sm"],["type","text","name","email","placeholder","Enter email address","required","","maxlength","200","pattern","^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["email","ngModel"],["class","col-lg-10",4,"ngIf"],["type","button",1,"btn","btn-link",3,"click"],[1,"password-well","card","card-body","bg-light"],[1,"col-form-label","col-lg-3",3,"for"],[1,"col-lg-9"],["type","password","name","newPassword","placeholder","Enter new password","required","","minlength","6","validateEqual","confirmPassword","reverse","true",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["newPassword","ngModel"],["type","password","name","confirmPassword","placeholder","Confirm new password","required","","validateEqual","newPassword",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["confirmPassword","ngModel"],["type","password","name","currentPassword","placeholder","Enter current password","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["currentPassword","ngModel"],["for","roles-user-info",1,"col-form-label"],[3,"ngClass","col-lg-9","col-lg-10",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"badge","badge-pill","badge-secondary",3,"title"],[3,"ngClass"],["id","roles-user-info","name","roles","bootstrapSelect","","required","","multiple","","data-live-search","true","data-actions-box","false","data-live-search-placeholder","Search...","title","Select Roles",1,"selectpicker","form-control","left-status",3,"ngModel","ngModelChange"],["roles","ngModel","rolesSelector","bootstrap-select"],["type","text","name","fullName","placeholder","Enter full name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","phoneNumber","placeholder","Enter phone number",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-5"],["class","float-left",4,"ngIf"],[1,"col-sm-7"],[1,"float-right"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["type","button","class","btn btn-danger",3,"disabled","click",4,"ngIf"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],[1,"float-left"],[1,"form-check","user-enabled"],["type","checkbox","id","idEnabled","name","isEnabled",1,"form-check-input",3,"ngModel","ngModelChange"],["for","idEnabled",1,"form-check-label"],["type","button","class","btn btn-warning unblock-user",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-warning","unblock-user",3,"disabled","click"],[1,"fa","fa-unlock-alt"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-close"],[1,"fa","fa-edit"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-times"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","fa fa-save",4,"ngIf"],["class","fa fa-circle-o-notch fa-spin",4,"ngIf"],[1,"fa","fa-save"],[1,"fa","fa-circle-o-notch","fa-spin"]],template:function(e,t){1&e&&(i.ɵɵelementStart(0,"div"),i.ɵɵtemplate(1,kt,53,75,"form",0),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(1),i.ɵɵproperty("ngIf",t.formResetToggle))},directives:[f.NgIf,p.ɵangular_packages_forms_forms_y,p.NgControlStatusGroup,p.NgForm,p.DefaultValueAccessor,W,p.NgControlStatus,p.NgModel,p.RequiredValidator,p.MinLengthValidator,p.MaxLengthValidator,f.NgClass,p.PatternValidator,ee,f.NgForOf,p.SelectMultipleControlValueAccessor,K,p.NgSelectOption,p.ɵangular_packages_forms_forms_x,p.CheckboxControlValueAccessor],pipes:[h.TranslatePipe],styles:[".separator-hr[_ngcontent-%COMP%]{margin:0 5px;border-top-style:dashed}.edit-separator-hr[_ngcontent-%COMP%]{margin:10px 5px;border-top-style:dashed}.last-separator-hr[_ngcontent-%COMP%]{margin-top:5px}.edit-last-separator-hr[_ngcontent-%COMP%]{margin-top:15px}.password-separator-hr[_ngcontent-%COMP%]{margin:5px;border-style:none}.form-group[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}input.form-control[_ngcontent-%COMP%]{border-left-width:5px}.invalid-feedback[_ngcontent-%COMP%]{display:block}.password-well[_ngcontent-%COMP%]{padding:.5rem}.hint-sm[_ngcontent-%COMP%]{display:block}.form-check.user-enabled[_ngcontent-%COMP%]{display:inline-block}.unblock-user[_ngcontent-%COMP%]{margin-left:34px}@media (min-width:992px){.user-enabled[_ngcontent-%COMP%]{margin-left:40px}}"]}),e}(),Rt=["indexTemplate"],Ut=["userNameTemplate"],Tt=["rolesTemplate"],Nt=["actionsTemplate"],Ot=["editorModal"],Vt=["userEditor"];function Dt(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"li",23),i.ɵɵelementStart(1,"a",24),i.ɵɵlistener("click",(function(){return i.ɵɵrestoreView(n),i.ɵɵnextContext().newUser()})),i.ɵɵelement(2,"i",25),i.ɵɵtext(3),i.ɵɵpipe(4,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd()}2&e&&(i.ɵɵadvance(3),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(4,1,"users.management.NewUser")," "))}function At(e,t){if(1&e&&(i.ɵɵelementStart(0,"strong"),i.ɵɵtext(1),i.ɵɵelementEnd()),2&e){var n=t.value;i.ɵɵadvance(1),i.ɵɵtextInterpolate(n)}}function Bt(e,t){1&e&&i.ɵɵelement(0,"i",28)}function qt(e,t){1&e&&i.ɵɵelement(0,"i",29)}function jt(e,t){if(1&e&&(i.ɵɵelementStart(0,"span"),i.ɵɵtemplate(1,Bt,1,0,"i",26),i.ɵɵtemplate(2,qt,1,0,"i",27),i.ɵɵtext(3),i.ɵɵelementEnd()),2&e){var n=t.row,r=t.value;i.ɵɵclassProp("locked-out",n.isLockedOut)("user-disabled",!n.isEnabled),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",n.isLockedOut),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",!n.isEnabled),i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",r," ")}}function Lt(e,t){if(1&e&&(i.ɵɵelementStart(0,"span",31),i.ɵɵtext(1),i.ɵɵelementEnd()),2&e){var n=t.$implicit;i.ɵɵadvance(1),i.ɵɵtextInterpolate(n)}}function _t(e,t){if(1&e&&i.ɵɵtemplate(0,Lt,2,1,"span",30),2&e){var n=t.value;i.ɵɵproperty("ngForOf",n)}}function Ht(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div"),i.ɵɵelementStart(1,"a",33),i.ɵɵlistener("click",(function(){i.ɵɵrestoreView(n);var e=i.ɵɵnextContext().row;return i.ɵɵnextContext().editUser(e)})),i.ɵɵelement(2,"i",34),i.ɵɵtext(3),i.ɵɵpipe(4,"translate"),i.ɵɵelementEnd(),i.ɵɵtext(5,"| "),i.ɵɵelementStart(6,"a",33),i.ɵɵlistener("click",(function(){i.ɵɵrestoreView(n);var e=i.ɵɵnextContext().row;return i.ɵɵnextContext().deleteUser(e)})),i.ɵɵelement(7,"i",35),i.ɵɵtext(8),i.ɵɵpipe(9,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd()}2&e&&(i.ɵɵadvance(3),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(4,2,"users.management.Edit"),""),i.ɵɵadvance(5),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(9,4,"users.management.Delete"),""))}function Ft(e,t){if(1&e&&i.ɵɵtemplate(0,Ht,10,6,"div",32),2&e){var n=i.ɵɵnextContext();i.ɵɵproperty("ngIf",n.canManageUsers)}}function Qt(e,t){1&e&&(i.ɵɵelementStart(0,"h4",36),i.ɵɵelement(1,"i",37),i.ɵɵtext(2),i.ɵɵpipe(3,"translate"),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(2),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(3,1,"users.management.NewUser"),""))}function $t(e,t){if(1&e&&(i.ɵɵelementStart(0,"h4",36),i.ɵɵelement(1,"i",38),i.ɵɵtext(2),i.ɵɵpipe(3,"translate"),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext();i.ɵɵadvance(2),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind2(3,1,"users.management.EditUser",n.editingUserName),"")}}var zt=function(){return{backdrop:"static"}},Gt=function(){function e(e,t,n){this.alertService=e,this.translationService=t,this.accountService=n,this.columns=[],this.rows=[],this.rowsCache=[],this.allRoles=[]}return e.prototype.ngOnInit=function(){var e=this,t=function(t){return e.translationService.getTranslation(t)};this.columns=[{prop:"index",name:"#",width:40,cellTemplate:this.indexTemplate,canAutoResize:!1},{prop:"jobTitle",name:t("users.management.Title"),width:50},{prop:"userName",name:t("users.management.UserName"),width:90,cellTemplate:this.userNameTemplate},{prop:"fullName",name:t("users.management.FullName"),width:120},{prop:"email",name:t("users.management.Email"),width:140},{prop:"roles",name:t("users.management.Roles"),width:120,cellTemplate:this.rolesTemplate},{prop:"phoneNumber",name:t("users.management.PhoneNumber"),width:100}],this.canManageUsers&&this.columns.push({name:"",width:160,cellTemplate:this.actionsTemplate,resizeable:!1,canAutoResize:!1,sortable:!1,draggable:!1}),this.loadData()},e.prototype.ngAfterViewInit=function(){var e=this;this.userEditor.changesSavedCallback=function(){e.addNewUserToList(),e.editorModal.hide()},this.userEditor.changesCancelledCallback=function(){e.editedUser=null,e.sourceUser=null,e.editorModal.hide()}},e.prototype.addNewUserToList=function(){var e,r;if(this.sourceUser){Object.assign(this.sourceUser,this.editedUser);var i=this.rowsCache.indexOf(this.sourceUser,0);i>-1&&t.Utilities.moveArrayItem(this.rowsCache,i,0),(i=this.rows.indexOf(this.sourceUser,0))>-1&&t.Utilities.moveArrayItem(this.rows,i,0),this.editedUser=null,this.sourceUser=null}else{var o=new n.User;Object.assign(o,this.editedUser),this.editedUser=null;var a=0;try{for(var s=P(this.rowsCache),l=s.next();!l.done;l=s.next()){var c=l.value;c.index>a&&(a=c.index)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}o.index=a+1,this.rowsCache.splice(0,0,o),this.rows.splice(0,0,o),this.rows=U(this.rows)}},e.prototype.loadData=function(){var e=this;this.alertService.startLoadingMessage(),this.loadingIndicator=!0,this.canViewRoles?this.accountService.getUsersAndRoles().subscribe((function(t){return e.onDataLoadSuccessful(t[0],t[1])}),(function(t){return e.onDataLoadFailed(t)})):this.accountService.getUsers().subscribe((function(t){return e.onDataLoadSuccessful(t,e.accountService.currentUser.roles.map((function(e){return new O(e)})))}),(function(t){return e.onDataLoadFailed(t)}))},e.prototype.onDataLoadSuccessful=function(e,t){this.alertService.stopLoadingMessage(),this.loadingIndicator=!1,e.forEach((function(e,t,n){e.index=t+1})),this.rowsCache=U(e),this.rows=e,this.allRoles=t},e.prototype.onDataLoadFailed=function(e){this.alertService.stopLoadingMessage(),this.loadingIndicator=!1,this.alertService.showStickyMessage("Load Error",'Unable to retrieve users from the server.\r\nErrors: "'+t.Utilities.getHttpResponseMessages(e)+'"',t.MessageSeverity.error,e)},e.prototype.onSearchChanged=function(e){this.rows=this.rowsCache.filter((function(n){return t.Utilities.searchArray(e,!1,n.userName,n.fullName,n.email,n.phoneNumber,n.jobTitle,n.roles)}))},e.prototype.onEditorModalHidden=function(){this.editingUserName=null,this.userEditor.resetForm(!0)},e.prototype.newUser=function(){this.editingUserName=null,this.sourceUser=null,this.editedUser=this.userEditor.newUser(this.allRoles),this.editorModal.show()},e.prototype.editUser=function(e){this.editingUserName={name:e.userName},this.sourceUser=e,this.editedUser=this.userEditor.editUser(e,this.allRoles),this.editorModal.show()},e.prototype.deleteUser=function(e){var n=this;this.alertService.showDialog('Are you sure you want to delete "'+e.userName+'"?',t.DialogType.confirm,(function(){return n.deleteUserHelper(e)}))},e.prototype.deleteUserHelper=function(e){var n=this;this.alertService.startLoadingMessage("Deleting..."),this.loadingIndicator=!0,this.accountService.deleteUser(e).subscribe((function(t){n.alertService.stopLoadingMessage(),n.loadingIndicator=!1,n.rowsCache=n.rowsCache.filter((function(t){return t!==e})),n.rows=n.rows.filter((function(t){return t!==e}))}),(function(e){n.alertService.stopLoadingMessage(),n.loadingIndicator=!1,n.alertService.showStickyMessage("Delete Error",'An error occured whilst deleting the user.\r\nError: "'+t.Utilities.getHttpResponseMessages(e)+'"',t.MessageSeverity.error,e)}))},Object.defineProperty(e.prototype,"canAssignRoles",{get:function(){return this.accountService.userHasPermission(n.Permission.assignRolesPermission)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canViewRoles",{get:function(){return this.accountService.userHasPermission(n.Permission.viewRolesPermission)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canManageUsers",{get:function(){return this.accountService.userHasPermission(n.Permission.manageUsersPermission)},enumerable:!0,configurable:!0}),e.ɵfac=function(t){return new(t||e)(i.ɵɵdirectiveInject(o.AlertService),i.ɵɵdirectiveInject(o.AppTranslationService),i.ɵɵdirectiveInject(L))},e.ɵcmp=i.ɵɵdefineComponent({type:e,selectors:[["users-management"]],viewQuery:function(e,t){var n;(1&e&&(i.ɵɵstaticViewQuery(Rt,!0),i.ɵɵstaticViewQuery(Ut,!0),i.ɵɵstaticViewQuery(Tt,!0),i.ɵɵstaticViewQuery(Nt,!0),i.ɵɵstaticViewQuery(Ot,!0),i.ɵɵstaticViewQuery(Vt,!0)),2&e)&&(i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.indexTemplate=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.userNameTemplate=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.rolesTemplate=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.actionsTemplate=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.editorModal=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.userEditor=n.first))},decls:32,vars:17,consts:[[1,"row","control-box"],[1,"col-lg-8"],[1,"form-group","search-box"],[3,"placeholder","searchChange"],[1,"col-lg-4","pr-lg-5"],[1,"nav","flex-column","flex-lg-row","justify-content-end"],["class","nav-item toolbaritem",4,"ngIf"],[1,"material","colored-header","sm","table","table-striped","table-hover",3,"loadingIndicator","rows","rowHeight","headerHeight","footerHeight","columns","scrollbarV","columnMode"],["indexTemplate",""],["userNameTemplate",""],["rolesTemplate",""],["actionsTemplate",""],["bsModal","","tabindex","-1",1,"modal","fade",3,"config","onHidden"],["editorModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["class","modal-title float-left",4,"ngIf"],["type","button","title","Close",1,"close","float-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"isGeneralEditor"],["userEditor",""],[1,"nav-item","toolbaritem"],["href","javascript:;",1,"nav-link",3,"click"],[1,"fa","fa-plus-circle"],["class","fa fa-exclamation-triangle",4,"ngIf"],["class","fa fa-exclamation",4,"ngIf"],[1,"fa","fa-exclamation-triangle"],[1,"fa","fa-exclamation"],["class","user-role badge badge-pill badge-secondary",4,"ngFor","ngForOf"],[1,"user-role","badge","badge-pill","badge-secondary"],[4,"ngIf"],["href","javascript:;",1,"btn","btn-link","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],["aria-hidden","true",1,"fa","fa-trash-o"],[1,"modal-title","float-left"],[1,"fa","fa-user-plus"],[1,"fa","fa-user-circle-o"]],template:function(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div"),i.ɵɵelementStart(1,"div",0),i.ɵɵelementStart(2,"div",1),i.ɵɵelementStart(3,"div",2),i.ɵɵelementStart(4,"search-box",3),i.ɵɵlistener("searchChange",(function(e){return t.onSearchChanged(e)})),i.ɵɵpipe(5,"translate"),i.ɵɵtext(6,">"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(7,"div",4),i.ɵɵelementStart(8,"ul",5),i.ɵɵtemplate(9,Dt,5,3,"li",6),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelement(10,"ngx-datatable",7),i.ɵɵtemplate(11,At,2,1,"ng-template",null,8,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(13,jt,4,7,"ng-template",null,9,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(15,_t,1,1,"ng-template",null,10,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(17,Ft,1,1,"ng-template",null,11,i.ɵɵtemplateRefExtractor),i.ɵɵelementStart(19,"div",12,13),i.ɵɵlistener("onHidden",(function(){return t.onEditorModalHidden()})),i.ɵɵelementStart(21,"div",14),i.ɵɵelementStart(22,"div",15),i.ɵɵelementStart(23,"div",16),i.ɵɵtemplate(24,Qt,4,3,"h4",17),i.ɵɵtemplate(25,$t,4,4,"h4",17),i.ɵɵelementStart(26,"button",18),i.ɵɵlistener("click",(function(){return i.ɵɵrestoreView(n),i.ɵɵreference(20).hide()})),i.ɵɵelementStart(27,"span",19),i.ɵɵtext(28,"×"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(29,"div",20),i.ɵɵelement(30,"user-info",21,22),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd()}2&e&&(i.ɵɵadvance(4),i.ɵɵpropertyInterpolate("placeholder",i.ɵɵpipeBind1(5,14,"users.management.Search")),i.ɵɵadvance(5),i.ɵɵproperty("ngIf",t.canManageUsers&&t.canAssignRoles),i.ɵɵadvance(1),i.ɵɵproperty("loadingIndicator",t.loadingIndicator)("rows",t.rows)("rowHeight",35)("headerHeight",35)("footerHeight",35)("columns",t.columns)("scrollbarV",!0)("columnMode","force"),i.ɵɵadvance(9),i.ɵɵproperty("config",i.ɵɵpureFunction0(16,zt)),i.ɵɵadvance(5),i.ɵɵproperty("ngIf",!t.editingUserName),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",t.editingUserName),i.ɵɵadvance(5),i.ɵɵproperty("isGeneralEditor",!0))},directives:[ye,f.NgIf,u.DatatableComponent,g.ModalDirective,Pt,f.NgForOf],pipes:[h.TranslatePipe],styles:[".user-role[_ngcontent-%COMP%]{font-size:.8em!important;margin-right:1px}.control-box[_ngcontent-%COMP%]{margin-bottom:5px}.search-box[_ngcontent-%COMP%]{margin:0}.nav-item.toolbaritem[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-top:3px;padding-bottom:3px;min-width:100px}.user-disabled[_ngcontent-%COMP%]{color:#777;font-style:italic}.locked-out[_ngcontent-%COMP%]{background-color:#ff4500;color:#f5f5f5;width:100%;display:inline-block;padding-left:5px}"]}),e}(),Jt=["languageSelector"],Wt=["homePageSelector"];function Zt(e,t){1&e&&(i.ɵɵelementStart(0,"option",49),i.ɵɵtext(1),i.ɵɵpipe(2,"translate"),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(1),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(2,1,"preferences.Customers")))}function Kt(e,t){1&e&&(i.ɵɵelementStart(0,"option",50),i.ɵɵtext(1),i.ɵɵpipe(2,"translate"),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(1),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(2,1,"preferences.Products")))}function Xt(e,t){1&e&&(i.ɵɵelementStart(0,"option",51),i.ɵɵtext(1),i.ɵɵpipe(2,"translate"),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(1),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(2,1,"preferences.Orders")))}function Yt(e,t){if(1&e&&(i.ɵɵelementStart(0,"option"),i.ɵɵpipe(1,"translate"),i.ɵɵtext(2),i.ɵɵelementEnd()),2&e){var n=t.$implicit;i.ɵɵattributeInterpolate4("data-content","<div class='theme-item' style='background-color: ",n.background,"; color: ",n.color,"'>",i.ɵɵpipeBind1(1,5,"preferences."+n.name+"Theme"),"\n                <span class='small'>",n.isDark?"(Dark)":"","</span></div>"),i.ɵɵadvance(2),i.ɵɵtextInterpolate1(" ",n.id," ")}}function en(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div",2),i.ɵɵelementStart(1,"select",52),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext().configurations.themeId=e})),i.ɵɵtemplate(2,Yt,3,7,"option",53),i.ɵɵelementEnd(),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵnextContext();i.ɵɵadvance(1),i.ɵɵproperty("ngModel",r.configurations.themeId),i.ɵɵadvance(1),i.ɵɵproperty("ngForOf",r.themeManager.themes)}}var tn=function(){function e(e,t,n,r,i){this.alertService=e,this.translationService=t,this.accountService=n,this.themeManager=r,this.configurations=i,this.themeSelectorToggle=!0}return e.prototype.ngOnInit=function(){var e=this;this.languageChangedSubscription=this.translationService.languageChanged$.subscribe((function(t){e.themeSelectorToggle=!1,setTimeout((function(){e.languageSelector.refresh(),e.homePageSelector.refresh(),e.themeSelectorToggle=!0}))}))},e.prototype.ngOnDestroy=function(){this.languageChangedSubscription.unsubscribe()},e.prototype.reloadFromServer=function(){var e=this;this.alertService.startLoadingMessage(),this.accountService.getUserPreferences().subscribe((function(n){e.alertService.stopLoadingMessage(),e.configurations.import(n),e.alertService.showMessage("Defaults loaded!","",t.MessageSeverity.info)}),(function(n){e.alertService.stopLoadingMessage(),e.alertService.showStickyMessage("Load Error",'Unable to retrieve user preferences from the server.\r\nErrors: "'+t.Utilities.getHttpResponseMessages(n)+'"',t.MessageSeverity.error,n)}))},e.prototype.setAsDefault=function(){var e=this;this.alertService.showDialog("Are you sure you want to set the current configuration as your new defaults?",t.DialogType.confirm,(function(){return e.setAsDefaultHelper()}),(function(){return e.alertService.showMessage("Operation Cancelled!","",t.MessageSeverity.default)}))},e.prototype.setAsDefaultHelper=function(){var e=this;this.alertService.startLoadingMessage("","Saving new defaults"),this.accountService.updateUserPreferences(this.configurations.export()).subscribe((function(n){e.alertService.stopLoadingMessage(),e.alertService.showMessage("New Defaults","Account defaults updated successfully",t.MessageSeverity.success)}),(function(n){e.alertService.stopLoadingMessage(),e.alertService.showStickyMessage("Save Error",'An error occured whilst saving configuration defaults.\r\nErrors: "'+t.Utilities.getHttpResponseMessages(n)+'"',t.MessageSeverity.error,n)}))},e.prototype.resetDefault=function(){var e=this;this.alertService.showDialog("Are you sure you want to reset your defaults?",t.DialogType.confirm,(function(){return e.resetDefaultHelper()}),(function(){return e.alertService.showMessage("Operation Cancelled!","",t.MessageSeverity.default)}))},e.prototype.resetDefaultHelper=function(){var e=this;this.alertService.startLoadingMessage("","Resetting defaults"),this.accountService.updateUserPreferences(null).subscribe((function(n){e.alertService.stopLoadingMessage(),e.configurations.import(null),e.alertService.showMessage("Defaults Reset","Account defaults reset completed successfully",t.MessageSeverity.success)}),(function(n){e.alertService.stopLoadingMessage(),e.alertService.showStickyMessage("Save Error",'An error occured whilst resetting configuration defaults.\r\nErrors: "'+t.Utilities.getHttpResponseMessages(n)+'"',t.MessageSeverity.error,n)}))},Object.defineProperty(e.prototype,"canViewCustomers",{get:function(){return this.accountService.userHasPermission(n.Permission.viewUsersPermission)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canViewProducts",{get:function(){return this.accountService.userHasPermission(n.Permission.viewUsersPermission)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canViewOrders",{get:function(){return!0},enumerable:!0,configurable:!0}),e.ɵfac=function(t){return new(t||e)(i.ɵɵdirectiveInject(o.AlertService),i.ɵɵdirectiveInject(o.AppTranslationService),i.ɵɵdirectiveInject(L),i.ɵɵdirectiveInject(o.ThemeManager),i.ɵɵdirectiveInject(o.ConfigurationService))},e.ɵcmp=i.ɵɵdefineComponent({type:e,selectors:[["user-preferences"]],viewQuery:function(e,t){var n;(1&e&&(i.ɵɵstaticViewQuery(Jt,!0),i.ɵɵstaticViewQuery(Wt,!0)),2&e)&&(i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.languageSelector=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.homePageSelector=n.first))},decls:155,vars:91,consts:[[1,"form-group","row"],["for","refreshButton",1,"col-sm-3","col-form-label"],[1,"col-sm-4"],["id","refreshButton",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-refresh"],[1,"col-sm-5"],[1,"form-control-plaintext","text-muted","small"],[1,"row"],[1,"col-md-12"],[1,"separator-hr"],["for","language",1,"col-sm-3","col-form-label"],["id","language","bootstrapSelect","",1,"selectpicker","form-control",3,"ngModel","ngModelChange"],["languageSelector","bootstrap-select"],["data-subtext","(Default)","value","en"],["value","fr"],["value","de"],["value","pt"],["value","ar"],["value","ko"],["for","homePage",1,"col-sm-3","col-form-label"],["id","homePage","bootstrapSelect","",1,"selectpicker","form-control",3,"ngModel","ngModelChange"],["homePageSelector","bootstrap-select"],["data-icon","fa fa-tachometer","data-subtext","(Default)","value","/"],["data-icon","fa fa-handshake-o","value","/customers",4,"ngIf"],["data-icon","fa fa-truck","value","/products",4,"ngIf"],["data-icon","fa fa-shopping-cart","value","/orders",4,"ngIf"],["data-icon","fa fa-info-circle","value","/about"],["data-icon","fa fa-cog","value","/settings"],["for","defaultTheme",1,"col-sm-3","col-form-label"],["class","col-sm-4",4,"ngIf"],["for","dashboardStatistics",1,"col-sm-3","col-form-label"],[1,"checkbox"],["name","dashboardStatistics","type","checkbox","bootstrapToggle","","data-size","small",1,"form-control",3,"ngModel","ngModelChange"],[1,"subseparator-hr"],["for","dashboardTodo",1,"col-sm-3","col-form-label"],["name","dashboardNotifications","type","checkbox","bootstrapToggle","","data-size","small",1,"form-control",3,"ngModel","ngModelChange"],["name","dashboardTodo","type","checkbox","bootstrapToggle","","data-size","small",1,"form-control",3,"ngModel","ngModelChange"],["for","dashboardBanner",1,"col-sm-3","col-form-label"],["name","dashboardBanner","type","checkbox","bootstrapToggle","","data-size","small",1,"form-control",3,"ngModel","ngModelChange"],[1,"last-separator-hr"],[1,"col-sm-3"],[1,"col-sm-9"],[1,"row","float-left"],[1,"col-sm-6","col-reset-default"],["type","button",1,"btn","btn-success",3,"click"],[1,"fa","fa-circle-o-notch"],[1,"col-sm-6","col-set-default"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-hdd-o"],["data-icon","fa fa-handshake-o","value","/customers"],["data-icon","fa fa-truck","value","/products"],["data-icon","fa fa-shopping-cart","value","/orders"],["id","defaultTheme","bootstrapSelect","",1,"selectpicker","theme-picker","form-control",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(i.ɵɵelementStart(0,"div"),i.ɵɵelementStart(1,"div",0),i.ɵɵelementStart(2,"label",1),i.ɵɵtext(3),i.ɵɵpipe(4,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(5,"div",2),i.ɵɵelementStart(6,"button",3),i.ɵɵlistener("click",(function(){return t.reloadFromServer()})),i.ɵɵelement(7,"i",4),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(8,"div",5),i.ɵɵelementStart(9,"p",6),i.ɵɵtext(10),i.ɵɵpipe(11,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(12,"div",7),i.ɵɵelementStart(13,"div",8),i.ɵɵelement(14,"hr",9),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(15,"div",0),i.ɵɵelementStart(16,"label",10),i.ɵɵtext(17),i.ɵɵpipe(18,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(19,"div",2),i.ɵɵelementStart(20,"select",11,12),i.ɵɵlistener("ngModelChange",(function(e){return t.configurations.language=e})),i.ɵɵelementStart(22,"option",13),i.ɵɵtext(23),i.ɵɵpipe(24,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(25,"option",14),i.ɵɵtext(26),i.ɵɵpipe(27,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(28,"option",15),i.ɵɵtext(29),i.ɵɵpipe(30,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(31,"option",16),i.ɵɵtext(32),i.ɵɵpipe(33,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(34,"option",17),i.ɵɵtext(35),i.ɵɵpipe(36,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(37,"option",18),i.ɵɵtext(38),i.ɵɵpipe(39,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(40,"div",5),i.ɵɵelementStart(41,"p",6),i.ɵɵtext(42),i.ɵɵpipe(43,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(44,"div",7),i.ɵɵelementStart(45,"div",8),i.ɵɵelement(46,"hr",9),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(47,"div",0),i.ɵɵelementStart(48,"label",19),i.ɵɵtext(49),i.ɵɵpipe(50,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(51,"div",2),i.ɵɵelementStart(52,"select",20,21),i.ɵɵlistener("ngModelChange",(function(e){return t.configurations.homeUrl=e})),i.ɵɵelementStart(54,"option",22),i.ɵɵtext(55),i.ɵɵpipe(56,"translate"),i.ɵɵelementEnd(),i.ɵɵtemplate(57,Zt,3,3,"option",23),i.ɵɵtemplate(58,Kt,3,3,"option",24),i.ɵɵtemplate(59,Xt,3,3,"option",25),i.ɵɵelementStart(60,"option",26),i.ɵɵtext(61),i.ɵɵpipe(62,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(63,"option",27),i.ɵɵtext(64),i.ɵɵpipe(65,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(66,"div",5),i.ɵɵelementStart(67,"p",6),i.ɵɵtext(68),i.ɵɵpipe(69,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(70,"div",7),i.ɵɵelementStart(71,"div",8),i.ɵɵelement(72,"hr",9),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(73,"div",0),i.ɵɵelementStart(74,"label",28),i.ɵɵtext(75),i.ɵɵpipe(76,"translate"),i.ɵɵelementEnd(),i.ɵɵtemplate(77,en,3,2,"div",29),i.ɵɵelementStart(78,"div",5),i.ɵɵelementStart(79,"p",6),i.ɵɵtext(80),i.ɵɵpipe(81,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(82,"div",7),i.ɵɵelementStart(83,"div",8),i.ɵɵelement(84,"hr",9),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(85,"div",0),i.ɵɵelementStart(86,"label",30),i.ɵɵtext(87),i.ɵɵpipe(88,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(89,"div",2),i.ɵɵelementStart(90,"div",31),i.ɵɵelementStart(91,"input",32),i.ɵɵlistener("ngModelChange",(function(e){return t.configurations.showDashboardStatistics=e})),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(92,"div",5),i.ɵɵelementStart(93,"p",6),i.ɵɵtext(94),i.ɵɵpipe(95,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(96,"div",7),i.ɵɵelementStart(97,"div",8),i.ɵɵelement(98,"hr",33),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(99,"div",0),i.ɵɵelementStart(100,"label",34),i.ɵɵtext(101),i.ɵɵpipe(102,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(103,"div",2),i.ɵɵelementStart(104,"div",31),i.ɵɵelementStart(105,"input",35),i.ɵɵlistener("ngModelChange",(function(e){return t.configurations.showDashboardNotifications=e})),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(106,"div",5),i.ɵɵelementStart(107,"p",6),i.ɵɵtext(108),i.ɵɵpipe(109,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(110,"div",7),i.ɵɵelementStart(111,"div",8),i.ɵɵelement(112,"hr",33),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(113,"div",0),i.ɵɵelementStart(114,"label",34),i.ɵɵtext(115),i.ɵɵpipe(116,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(117,"div",2),i.ɵɵelementStart(118,"div",31),i.ɵɵelementStart(119,"input",36),i.ɵɵlistener("ngModelChange",(function(e){return t.configurations.showDashboardTodo=e})),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(120,"div",5),i.ɵɵelementStart(121,"p",6),i.ɵɵtext(122),i.ɵɵpipe(123,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(124,"div",7),i.ɵɵelementStart(125,"div",8),i.ɵɵelement(126,"hr",33),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(127,"div",0),i.ɵɵelementStart(128,"label",37),i.ɵɵtext(129),i.ɵɵpipe(130,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(131,"div",2),i.ɵɵelementStart(132,"div",31),i.ɵɵelementStart(133,"input",38),i.ɵɵlistener("ngModelChange",(function(e){return t.configurations.showDashboardBanner=e})),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(134,"div",5),i.ɵɵelementStart(135,"p",6),i.ɵɵtext(136),i.ɵɵpipe(137,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(138,"div",7),i.ɵɵelementStart(139,"div",8),i.ɵɵelement(140,"hr",39),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(141,"div",0),i.ɵɵelement(142,"div",40),i.ɵɵelementStart(143,"div",41),i.ɵɵelementStart(144,"div",42),i.ɵɵelementStart(145,"div",43),i.ɵɵelementStart(146,"button",44),i.ɵɵlistener("click",(function(){return t.resetDefault()})),i.ɵɵelement(147,"i",45),i.ɵɵtext(148),i.ɵɵpipe(149,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(150,"div",46),i.ɵɵelementStart(151,"button",47),i.ɵɵlistener("click",(function(){return t.setAsDefault()})),i.ɵɵelement(152,"i",48),i.ɵɵtext(153),i.ɵɵpipe(154,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(3),i.ɵɵtextInterpolate1("",i.ɵɵpipeBind1(4,37,"preferences.ReloadPreferences")," "),i.ɵɵadvance(7),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(11,39,"preferences.ReloadPreferencesHint")),i.ɵɵadvance(7),i.ɵɵtextInterpolate1("",i.ɵɵpipeBind1(18,41,"preferences.Language")," "),i.ɵɵadvance(3),i.ɵɵproperty("ngModel",t.configurations.language),i.ɵɵadvance(3),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(24,43,"preferences.English")),i.ɵɵadvance(3),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(27,45,"preferences.French")),i.ɵɵadvance(3),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(30,47,"preferences.German")),i.ɵɵadvance(3),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(33,49,"preferences.Portuguese")),i.ɵɵadvance(3),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(36,51,"preferences.Arabic")),i.ɵɵadvance(3),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(39,53,"preferences.Korean")),i.ɵɵadvance(4),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(43,55,"preferences.LanguageHint")),i.ɵɵadvance(7),i.ɵɵtextInterpolate1("",i.ɵɵpipeBind1(50,57,"preferences.HomePage")," "),i.ɵɵadvance(3),i.ɵɵproperty("ngModel",t.configurations.homeUrl),i.ɵɵadvance(3),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(56,59,"preferences.Dashboard")),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",t.canViewCustomers),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",t.canViewProducts),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",t.canViewOrders),i.ɵɵadvance(2),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(62,61,"preferences.About")),i.ɵɵadvance(3),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(65,63,"preferences.Settings")),i.ɵɵadvance(4),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(69,65,"preferences.HomePageHint")),i.ɵɵadvance(7),i.ɵɵtextInterpolate1("",i.ɵɵpipeBind1(76,67,"preferences.Theme")," "),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",t.themeSelectorToggle),i.ɵɵadvance(3),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(81,69,"preferences.ThemeHint")),i.ɵɵadvance(7),i.ɵɵtextInterpolate1("",i.ɵɵpipeBind1(88,71,"preferences.DashboardStatistics")," "),i.ɵɵadvance(4),i.ɵɵproperty("ngModel",t.configurations.showDashboardStatistics),i.ɵɵadvance(3),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(95,73,"preferences.DashboardStatisticsHint")),i.ɵɵadvance(7),i.ɵɵtextInterpolate1("",i.ɵɵpipeBind1(102,75,"preferences.DashboardNotifications")," "),i.ɵɵadvance(4),i.ɵɵproperty("ngModel",t.configurations.showDashboardNotifications),i.ɵɵadvance(3),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(109,77,"preferences.DashboardNotificationsHint")),i.ɵɵadvance(7),i.ɵɵtextInterpolate1("",i.ɵɵpipeBind1(116,79,"preferences.DashboardTodo")," "),i.ɵɵadvance(4),i.ɵɵproperty("ngModel",t.configurations.showDashboardTodo),i.ɵɵadvance(3),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(123,81,"preferences.DashboardTodoHint")),i.ɵɵadvance(7),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(130,83,"preferences.DashboardBanner")),i.ɵɵadvance(4),i.ɵɵproperty("ngModel",t.configurations.showDashboardBanner),i.ɵɵadvance(3),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(137,85,"preferences.DashboardBannerHint")),i.ɵɵadvance(12),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(149,87,"preferences.ResetDefault")," "),i.ɵɵadvance(5),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(154,89,"preferences.SetDefault")," "))},directives:[p.SelectControlValueAccessor,K,p.NgControlStatus,p.NgModel,p.NgSelectOption,p.ɵangular_packages_forms_forms_x,f.NgIf,p.CheckboxControlValueAccessor,Y,f.NgForOf],pipes:[h.TranslatePipe],styles:[".separator-hr[_ngcontent-%COMP%]{margin:7px 5px;border-top-style:dashed}.subseparator-hr[_ngcontent-%COMP%]{margin:7px 5px;border-top-style:none}.last-separator-hr[_ngcontent-%COMP%]{margin-top:7px}.form-group[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.form-control-plaintext[_ngcontent-%COMP%]{min-height:0}.checkbox[_ngcontent-%COMP%]{padding-top:0}.col-reset-default[_ngcontent-%COMP%]{padding-right:0}.col-set-default[_ngcontent-%COMP%]{padding-left:5px}.col-reset-default[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .col-set-default[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:150px}@media (min-width:768px){.col-form-label[_ngcontent-%COMP%]{padding-top:5px}}"]}),e}(),nn=["f"],rn=function(e,t){return{"fa-check":e,"fa-times":t}};function on(e,t){if(1&e&&i.ɵɵelement(0,"i",27),2&e){i.ɵɵnextContext();var n=i.ɵɵreference(10);i.ɵɵproperty("ngClass",i.ɵɵpureFunction2(1,rn,n.valid,!n.valid))}}function an(e,t){1&e&&(i.ɵɵelementStart(0,"span",28),i.ɵɵtext(1),i.ɵɵpipe(2,"translate"),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(2,1,"roles.editor.RoleNameRequired")," "))}function sn(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div",34),i.ɵɵelementStart(1,"input",35),i.ɵɵlistener("ngModelChange",(function(e){i.ɵɵrestoreView(n);var r=t.$implicit;return i.ɵɵnextContext(3).selectedValues[r.value]=e})),i.ɵɵelementEnd(),i.ɵɵelementStart(2,"label",36),i.ɵɵtext(3),i.ɵɵelementEnd(),i.ɵɵelementEnd()}if(2&e){var r=t.$implicit,o=i.ɵɵnextContext(3);i.ɵɵadvance(1),i.ɵɵpropertyInterpolate1("name","checkboxes-",r.value,""),i.ɵɵpropertyInterpolate1("id","checkboxes-",r.value,""),i.ɵɵproperty("disabled",!o.canManageRoles)("ngModel",o.selectedValues[r.value]),i.ɵɵadvance(1),i.ɵɵpropertyInterpolate("tooltip",r.description),i.ɵɵpropertyInterpolate1("for","checkboxes-",r.value,""),i.ɵɵadvance(1),i.ɵɵtextInterpolate(r.name)}}function ln(e,t){1&e&&i.ɵɵelement(0,"div",26)}function cn(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div",29),i.ɵɵelementStart(1,"label",30),i.ɵɵlistener("click",(function(){i.ɵɵrestoreView(n);var e=t.$implicit;return i.ɵɵnextContext(2).toggleGroup(e.key)})),i.ɵɵtext(2),i.ɵɵelementEnd(),i.ɵɵelementStart(3,"div",31),i.ɵɵtemplate(4,sn,4,7,"div",32),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵtemplate(5,ln,1,0,"div",33)}if(2&e){var r=t.$implicit,o=t.index;i.ɵɵadvance(2),i.ɵɵtextInterpolate(r.key),i.ɵɵadvance(2),i.ɵɵproperty("ngForOf",r.value),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",(o+1)%2==0)}}function dn(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div",37),i.ɵɵelementStart(1,"a",38),i.ɵɵlistener("click",(function(){return i.ɵɵrestoreView(n),i.ɵɵnextContext(2).selectAll()})),i.ɵɵtext(2),i.ɵɵpipe(3,"translate"),i.ɵɵelementEnd(),i.ɵɵtext(4,"|"),i.ɵɵelementStart(5,"a",38),i.ɵɵlistener("click",(function(){return i.ɵɵrestoreView(n),i.ɵɵnextContext(2).selectNone()})),i.ɵɵtext(6),i.ɵɵpipe(7,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd()}2&e&&(i.ɵɵadvance(2),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(3,2,"roles.editor.SelectAll")),i.ɵɵadvance(4),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(7,4,"roles.editor.SelectNone")))}function pn(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"button",39),i.ɵɵlistener("click",(function(){return i.ɵɵrestoreView(n),i.ɵɵnextContext(2).cancel()})),i.ɵɵtext(1),i.ɵɵpipe(2,"translate"),i.ɵɵelementEnd()}2&e&&(i.ɵɵadvance(1),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(2,1,"roles.editor.Close")))}function un(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"button",40),i.ɵɵlistener("click",(function(){return i.ɵɵrestoreView(n),i.ɵɵnextContext(2).cancel()})),i.ɵɵelement(1,"i",41),i.ɵɵtext(2),i.ɵɵpipe(3,"translate"),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵnextContext(2);i.ɵɵproperty("disabled",r.isSaving),i.ɵɵadvance(2),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(3,2,"roles.editor.Cancel"),"")}}function mn(e,t){1&e&&i.ɵɵelement(0,"i",45)}function fn(e,t){1&e&&i.ɵɵelement(0,"i",46)}function hn(e,t){if(1&e&&(i.ɵɵelementStart(0,"button",42),i.ɵɵtext(1,"\n            "),i.ɵɵtemplate(2,mn,1,0,"i",43),i.ɵɵtemplate(3,fn,1,0,"i",44),i.ɵɵtext(4),i.ɵɵpipe(5,"translate"),i.ɵɵpipe(6,"translate"),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext(2);i.ɵɵproperty("disabled",n.isSaving),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",!n.isSaving),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",n.isSaving),i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",n.isSaving?i.ɵɵpipeBind1(5,4,"roles.editor.Saving"):i.ɵɵpipeBind1(6,6,"roles.editor.Save"),"\n          ")}}var gn=function(e,t){return{"is-valid":e,"is-invalid":t}};function vn(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"form",1,2),i.ɵɵlistener("ngSubmit",(function(){i.ɵɵrestoreView(n);var e=i.ɵɵreference(1),t=i.ɵɵreference(10),r=i.ɵɵnextContext();return e.form.valid?r.save():!t.valid&&r.showErrorAlert("Role name is required","Please enter a role name (minimum of 2 and maximum of 200 characters)")})),i.ɵɵelementStart(2,"div",3),i.ɵɵelementStart(3,"div",4),i.ɵɵelementStart(4,"div",5),i.ɵɵelementStart(5,"label",6),i.ɵɵtext(6),i.ɵɵpipe(7,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(8,"div",7),i.ɵɵelementStart(9,"input",8,9),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext().roleEdit.name=e})),i.ɵɵelementEnd(),i.ɵɵtemplate(11,on,1,4,"i",10),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(12,"div",11),i.ɵɵelementStart(13,"div",12),i.ɵɵelementStart(14,"label",13),i.ɵɵtext(15),i.ɵɵpipe(16,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(17,"div",7),i.ɵɵelementStart(18,"input",14),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext().roleEdit.description=e})),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(19,"div",3),i.ɵɵelementStart(20,"div",15),i.ɵɵtemplate(21,an,3,3,"span",16),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(22,"div",3),i.ɵɵelementStart(23,"div",15),i.ɵɵelement(24,"hr",17),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(25,"div",3),i.ɵɵelementStart(26,"div",18),i.ɵɵelementStart(27,"div",3),i.ɵɵtemplate(28,cn,6,3,"ng-template",19),i.ɵɵpipe(29,"groupBy"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(30,"div",3),i.ɵɵelementStart(31,"div",15),i.ɵɵelement(32,"hr",20),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(33,"div",12),i.ɵɵelementStart(34,"div",4),i.ɵɵtemplate(35,dn,8,6,"div",21),i.ɵɵelementEnd(),i.ɵɵelementStart(36,"div",11),i.ɵɵelementStart(37,"div",22),i.ɵɵtext(38,"\n          "),i.ɵɵtemplate(39,pn,3,3,"button",23),i.ɵɵtext(40,"\n          "),i.ɵɵtemplate(41,un,4,4,"button",24),i.ɵɵtext(42,"\n          "),i.ɵɵtemplate(43,hn,7,8,"button",25),i.ɵɵtext(44,"\n        "),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelement(45,"div",26),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵreference(1),o=i.ɵɵreference(10),a=i.ɵɵnextContext();i.ɵɵadvance(6),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(7,14,"roles.editor.Name")),i.ɵɵadvance(3),i.ɵɵproperty("disabled",!a.canManageRoles)("ngClass",i.ɵɵpureFunction2(21,gn,r.submitted&&o.valid,r.submitted&&!o.valid))("ngModel",a.roleEdit.name),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",a.showValidationErrors&&r.submitted),i.ɵɵadvance(4),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(16,16,"roles.editor.Description")),i.ɵɵadvance(3),i.ɵɵproperty("disabled",!a.canManageRoles)("ngModel",a.roleEdit.description),i.ɵɵadvance(3),i.ɵɵproperty("ngIf",a.showValidationErrors&&r.submitted&&!o.valid),i.ɵɵadvance(7),i.ɵɵproperty("ngForOf",i.ɵɵpipeBind2(29,18,a.allPermissions,"groupName")),i.ɵɵadvance(7),i.ɵɵproperty("ngIf",a.canManageRoles),i.ɵɵadvance(4),i.ɵɵproperty("ngIf",!a.canManageRoles),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",a.canManageRoles),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",a.canManageRoles)}}var bn=function(){function e(e,t){this.alertService=e,this.accountService=t,this.isNewRole=!1,this.showValidationErrors=!0,this.roleEdit=new O,this.allPermissions=[],this.selectedValues={},this.formResetToggle=!0}return e.prototype.showErrorAlert=function(e,n){this.alertService.showMessage(e,n,t.MessageSeverity.error)},e.prototype.save=function(){var e=this;this.isSaving=!0,this.alertService.startLoadingMessage("Saving changes..."),this.roleEdit.permissions=this.getSelectedPermissions(),this.isNewRole?this.accountService.newRole(this.roleEdit).subscribe((function(t){return e.saveSuccessHelper(t)}),(function(t){return e.saveFailedHelper(t)})):this.accountService.updateRole(this.roleEdit).subscribe((function(t){return e.saveSuccessHelper()}),(function(t){return e.saveFailedHelper(t)}))},e.prototype.saveSuccessHelper=function(e){var n=this;e&&Object.assign(this.roleEdit,e),this.isSaving=!1,this.alertService.stopLoadingMessage(),this.showValidationErrors=!1,this.isNewRole?this.alertService.showMessage("Success",'Role "'+this.roleEdit.name+'" was created successfully',t.MessageSeverity.success):this.alertService.showMessage("Success",'Changes to role "'+this.roleEdit.name+'" was saved successfully',t.MessageSeverity.success),this.roleEdit=new O,this.resetForm(),!this.isNewRole&&this.accountService.currentUser.roles.some((function(e){return e==n.editingRoleName}))&&this.refreshLoggedInUser(),this.changesSavedCallback&&this.changesSavedCallback()},e.prototype.refreshLoggedInUser=function(){var e=this;this.accountService.refreshLoggedInUser().subscribe((function(e){}),(function(n){e.alertService.resetStickyMessage(),e.alertService.showStickyMessage("Refresh failed","An error occured whilst refreshing logged in user information from the server",t.MessageSeverity.error,n)}))},e.prototype.saveFailedHelper=function(e){this.isSaving=!1,this.alertService.stopLoadingMessage(),this.alertService.showStickyMessage("Save Error","The below errors occured whilst saving your changes:",t.MessageSeverity.error,e),this.alertService.showStickyMessage(e,null,t.MessageSeverity.error),this.changesFailedCallback&&this.changesFailedCallback()},e.prototype.cancel=function(){this.roleEdit=new O,this.showValidationErrors=!1,this.resetForm(),this.alertService.showMessage("Cancelled","Operation cancelled by user",t.MessageSeverity.default),this.alertService.resetStickyMessage(),this.changesCancelledCallback&&this.changesCancelledCallback()},e.prototype.selectAll=function(){var e=this;this.allPermissions.forEach((function(t){return e.selectedValues[t.value]=!0}))},e.prototype.selectNone=function(){var e=this;this.allPermissions.forEach((function(t){return e.selectedValues[t.value]=!1}))},e.prototype.toggleGroup=function(e){var t,n=this;this.allPermissions.forEach((function(r){r.groupName==e&&(null==t&&(t=1==n.selectedValues[r.value]),n.selectedValues[r.value]=!t)}))},e.prototype.getSelectedPermissions=function(){var e=this;return this.allPermissions.filter((function(t){return 1==e.selectedValues[t.value]}))},e.prototype.resetForm=function(e){var t=this;void 0===e&&(e=!1),e?(this.formResetToggle=!1,setTimeout((function(){t.formResetToggle=!0}))):this.form.reset()},e.prototype.newRole=function(e){return this.isNewRole=!0,this.showValidationErrors=!0,this.editingRoleName=null,this.allPermissions=e,this.selectedValues={},this.roleEdit=new O,this.roleEdit},e.prototype.editRole=function(e,t){var n=this;return e?(this.isNewRole=!1,this.showValidationErrors=!0,this.editingRoleName=e.name,this.allPermissions=t,this.selectedValues={},e.permissions.forEach((function(e){return n.selectedValues[e.value]=!0})),this.roleEdit=new O,Object.assign(this.roleEdit,e),this.roleEdit):this.newRole(t)},Object.defineProperty(e.prototype,"canManageRoles",{get:function(){return this.accountService.userHasPermission(n.Permission.manageRolesPermission)},enumerable:!0,configurable:!0}),e.ɵfac=function(t){return new(t||e)(i.ɵɵdirectiveInject(o.AlertService),i.ɵɵdirectiveInject(L))},e.ɵcmp=i.ɵɵdefineComponent({type:e,selectors:[["role-editor"]],viewQuery:function(e,t){var n;(1&e&&i.ɵɵviewQuery(nn,!0),2&e)&&(i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.form=n.first))},decls:2,vars:1,consts:[["name","roleEditorForm","novalidate","",3,"ngSubmit",4,"ngIf"],["name","roleEditorForm","novalidate","",3,"ngSubmit"],["f","ngForm"],[1,"row"],[1,"col-sm-5"],[1,"form-group","row","has-feedback-icon"],["for","roleName",1,"col-form-label","col-md-3"],[1,"col-md-9"],["type","text","id","roleName","name","roleName","placeholder","Enter role name","required","","minlength","2","maxlength","200",1,"form-control",3,"disabled","ngClass","ngModel","ngModelChange"],["roleName","ngModel"],["class","fa form-control-feedback","aria-hidden","true",3,"ngClass",4,"ngIf"],[1,"col-sm-7"],[1,"form-group","row"],["for","roleDescription",1,"col-form-label","col-md-3"],["type","text","id","roleDescription","name","roleDescription","placeholder","Enter role description",1,"form-control",3,"disabled","ngModel","ngModelChange"],[1,"col-md-12"],["class","invalid-feedback",4,"ngIf"],[1,"edit-separator-hr"],[1,"col-sm-12","card","card-body","bg-light","well-sm","permissionsRow"],["ngFor","",3,"ngForOf"],[1,"edit-last-separator-hr"],["class","float-left",4,"ngIf"],[1,"float-right"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["type","button","class","btn btn-danger",3,"disabled","click",4,"ngIf"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],[1,"clearfix"],["aria-hidden","true",1,"fa","form-control-feedback",3,"ngClass"],[1,"invalid-feedback"],[1,"form-group","row","col-sm-6","permissionsColumn"],["for","checkboxes",1,"col-md-5","col-form-label","group-name",3,"click"],[1,"col-md-7"],["class","form-check",4,"ngFor","ngForOf"],["class","clearfix",4,"ngIf"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"disabled","name","id","ngModel","ngModelChange"],[1,"form-check-label",3,"tooltip","for"],[1,"float-left"],["href","javascript:;",1,"btn","btn-link",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-times"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","fa fa-save",4,"ngIf"],["class","fa fa-circle-o-notch fa-spin",4,"ngIf"],[1,"fa","fa-save"],[1,"fa","fa-circle-o-notch","fa-spin"]],template:function(e,t){1&e&&(i.ɵɵelementStart(0,"div"),i.ɵɵtemplate(1,vn,46,24,"form",0),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(1),i.ɵɵproperty("ngIf",t.formResetToggle))},directives:[f.NgIf,p.ɵangular_packages_forms_forms_y,p.NgControlStatusGroup,p.NgForm,p.DefaultValueAccessor,p.RequiredValidator,p.MinLengthValidator,p.MaxLengthValidator,f.NgClass,p.NgControlStatus,p.NgModel,f.NgForOf,p.CheckboxControlValueAccessor,m.TooltipDirective],pipes:[h.TranslatePipe,J],styles:[".separator-hr[_ngcontent-%COMP%]{margin:0 5px;border-top-style:dashed}.edit-separator-hr[_ngcontent-%COMP%]{margin:10px 5px;border-top-style:dashed}.last-separator-hr[_ngcontent-%COMP%]{margin-top:5px}.edit-last-separator-hr[_ngcontent-%COMP%]{margin-top:15px}.form-group[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}input.form-control[_ngcontent-%COMP%]{border-left-width:5px}.invalid-feedback[_ngcontent-%COMP%]{display:block}.group-name[_ngcontent-%COMP%]{padding-top:0;font-weight:500;padding-right:0}.permissionsColumn[_ngcontent-%COMP%]{margin-bottom:20px}.permissionsRow[_ngcontent-%COMP%]{margin:0 15px}.well-sm[_ngcontent-%COMP%]{padding:.5rem}@media (min-width:992px){.user-enabled[_ngcontent-%COMP%]{margin-left:40px}}"]}),e}(),yn=["indexTemplate"],Sn=["actionsTemplate"],En=["editorModal"],wn=["roleEditor"];function xn(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"li",20),i.ɵɵelementStart(1,"a",21),i.ɵɵlistener("click",(function(){return i.ɵɵrestoreView(n),i.ɵɵnextContext().newRole()})),i.ɵɵelement(2,"i",22),i.ɵɵtext(3),i.ɵɵpipe(4,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd()}2&e&&(i.ɵɵadvance(3),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(4,1,"roles.management.NewRole")," "))}function Cn(e,t){if(1&e&&(i.ɵɵelementStart(0,"strong"),i.ɵɵtext(1),i.ɵɵelementEnd()),2&e){var n=t.value;i.ɵɵadvance(1),i.ɵɵtextInterpolate(n)}}function Mn(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"a",24),i.ɵɵlistener("click",(function(){i.ɵɵrestoreView(n);var e=i.ɵɵnextContext().row;return i.ɵɵnextContext().editRole(e)})),i.ɵɵelement(1,"i",25),i.ɵɵtext(2),i.ɵɵpipe(3,"translate"),i.ɵɵelementEnd()}2&e&&(i.ɵɵadvance(2),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(3,1,"roles.management.Edit"),""))}function In(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"a",24),i.ɵɵlistener("click",(function(){i.ɵɵrestoreView(n);var e=i.ɵɵnextContext().row;return i.ɵɵnextContext().editRole(e)})),i.ɵɵelement(1,"i",26),i.ɵɵtext(2),i.ɵɵpipe(3,"translate"),i.ɵɵelementEnd()}2&e&&(i.ɵɵadvance(2),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(3,1,"roles.management.Details"),""))}function kn(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"a",24),i.ɵɵlistener("click",(function(){i.ɵɵrestoreView(n);var e=i.ɵɵnextContext().row;return i.ɵɵnextContext().deleteRole(e)})),i.ɵɵelement(1,"i",27),i.ɵɵtext(2),i.ɵɵpipe(3,"translate"),i.ɵɵelementEnd()}2&e&&(i.ɵɵadvance(2),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(3,1,"roles.management.Delete"),""))}function Pn(e,t){if(1&e&&(i.ɵɵtemplate(0,Mn,4,3,"a",23),i.ɵɵtemplate(1,In,4,3,"a",23),i.ɵɵtext(2),i.ɵɵtemplate(3,kn,4,3,"a",23)),2&e){var n=i.ɵɵnextContext();i.ɵɵproperty("ngIf",n.canManageRoles),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",!n.canManageRoles),i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",n.canManageRoles?"|":""," "),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",n.canManageRoles)}}function Rn(e,t){if(1&e&&(i.ɵɵelementStart(0,"h4",28),i.ɵɵelement(1,"i",29),i.ɵɵtext(2),i.ɵɵpipe(3,"translate"),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext();i.ɵɵadvance(2),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind2(3,1,"roles.management.RoleDetails",n.editingRoleName),"")}}function Un(e,t){if(1&e&&(i.ɵɵelementStart(0,"h4",28),i.ɵɵelement(1,"i",29),i.ɵɵtext(2),i.ɵɵpipe(3,"translate"),i.ɵɵpipe(4,"translate"),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext();i.ɵɵadvance(2),i.ɵɵtextInterpolate1(" ",n.editingRoleName?i.ɵɵpipeBind2(3,1,"roles.management.EditRole",n.editingRoleName):i.ɵɵpipeBind1(4,4,"roles.management.NewRole"),"")}}var Tn=function(){return{backdrop:"static"}},Nn=function(){function e(e,t,n){this.alertService=e,this.translationService=t,this.accountService=n,this.columns=[],this.rows=[],this.rowsCache=[],this.allPermissions=[]}return e.prototype.ngOnInit=function(){var e=this,t=function(t){return e.translationService.getTranslation(t)};this.columns=[{prop:"index",name:"#",width:50,cellTemplate:this.indexTemplate,canAutoResize:!1},{prop:"name",name:t("roles.management.Name"),width:180},{prop:"description",name:t("roles.management.Description"),width:320},{prop:"usersCount",name:t("roles.management.Users"),width:50},{name:"",width:160,cellTemplate:this.actionsTemplate,resizeable:!1,canAutoResize:!1,sortable:!1,draggable:!1}],this.loadData()},e.prototype.ngAfterViewInit=function(){var e=this;this.roleEditor.changesSavedCallback=function(){e.addNewRoleToList(),e.editorModal.hide()},this.roleEditor.changesCancelledCallback=function(){e.editedRole=null,e.sourceRole=null,e.editorModal.hide()}},e.prototype.addNewRoleToList=function(){var e,n;if(this.sourceRole){Object.assign(this.sourceRole,this.editedRole);var r=this.rowsCache.indexOf(this.sourceRole,0);r>-1&&t.Utilities.moveArrayItem(this.rowsCache,r,0),(r=this.rows.indexOf(this.sourceRole,0))>-1&&t.Utilities.moveArrayItem(this.rows,r,0),this.editedRole=null,this.sourceRole=null}else{var i=new O;Object.assign(i,this.editedRole),this.editedRole=null;var o=0;try{for(var a=P(this.rowsCache),s=a.next();!s.done;s=a.next()){var l=s.value;l.index>o&&(o=l.index)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}i.index=o+1,this.rowsCache.splice(0,0,i),this.rows.splice(0,0,i),this.rows=U(this.rows)}},e.prototype.loadData=function(){var e=this;this.alertService.startLoadingMessage(),this.loadingIndicator=!0,this.accountService.getRolesAndPermissions().subscribe((function(t){e.alertService.stopLoadingMessage(),e.loadingIndicator=!1;var n=t[0],r=t[1];n.forEach((function(e,t,n){e.index=t+1})),e.rowsCache=U(n),e.rows=n,e.allPermissions=r}),(function(n){e.alertService.stopLoadingMessage(),e.loadingIndicator=!1,e.alertService.showStickyMessage("Load Error",'Unable to retrieve roles from the server.\r\nErrors: "'+t.Utilities.getHttpResponseMessages(n)+'"',t.MessageSeverity.error,n)}))},e.prototype.onSearchChanged=function(e){this.rows=this.rowsCache.filter((function(n){return t.Utilities.searchArray(e,!1,n.name,n.description)}))},e.prototype.onEditorModalHidden=function(){this.editingRoleName=null,this.roleEditor.resetForm(!0)},e.prototype.newRole=function(){this.editingRoleName=null,this.sourceRole=null,this.editedRole=this.roleEditor.newRole(this.allPermissions),this.editorModal.show()},e.prototype.editRole=function(e){this.editingRoleName={name:e.name},this.sourceRole=e,this.editedRole=this.roleEditor.editRole(e,this.allPermissions),this.editorModal.show()},e.prototype.deleteRole=function(e){var n=this;this.alertService.showDialog('Are you sure you want to delete the "'+e.name+'" role?',t.DialogType.confirm,(function(){return n.deleteRoleHelper(e)}))},e.prototype.deleteRoleHelper=function(e){var n=this;this.alertService.startLoadingMessage("Deleting..."),this.loadingIndicator=!0,this.accountService.deleteRole(e).subscribe((function(t){n.alertService.stopLoadingMessage(),n.loadingIndicator=!1,n.rowsCache=n.rowsCache.filter((function(t){return t!==e})),n.rows=n.rows.filter((function(t){return t!==e}))}),(function(e){n.alertService.stopLoadingMessage(),n.loadingIndicator=!1,n.alertService.showStickyMessage("Delete Error",'An error occured whilst deleting the role.\r\nError: "'+t.Utilities.getHttpResponseMessages(e)+'"',t.MessageSeverity.error,e)}))},Object.defineProperty(e.prototype,"canManageRoles",{get:function(){return this.accountService.userHasPermission(n.Permission.manageRolesPermission)},enumerable:!0,configurable:!0}),e.ɵfac=function(t){return new(t||e)(i.ɵɵdirectiveInject(o.AlertService),i.ɵɵdirectiveInject(o.AppTranslationService),i.ɵɵdirectiveInject(L))},e.ɵcmp=i.ɵɵdefineComponent({type:e,selectors:[["roles-management"]],viewQuery:function(e,t){var n;(1&e&&(i.ɵɵstaticViewQuery(yn,!0),i.ɵɵstaticViewQuery(Sn,!0),i.ɵɵstaticViewQuery(En,!0),i.ɵɵstaticViewQuery(wn,!0)),2&e)&&(i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.indexTemplate=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.actionsTemplate=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.editorModal=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.roleEditor=n.first))},decls:28,vars:16,consts:[[1,"row","control-box"],[1,"col-lg-8"],[1,"form-group","search-box"],[3,"placeholder","searchChange"],[1,"col-lg-4","pr-lg-5"],[1,"nav","flex-column","flex-lg-row","justify-content-end"],["class","nav-item toolbaritem",4,"ngIf"],[1,"material","colored-header","sm","table","table-striped","table-hover",3,"loadingIndicator","rows","rowHeight","headerHeight","footerHeight","columns","scrollbarV","columnMode"],["indexTemplate",""],["actionsTemplate",""],["bsModal","","tabindex","-1",1,"modal","fade",3,"config","onHidden"],["editorModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["class","modal-title float-left",4,"ngIf"],["type","button","title","Close",1,"close","float-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],["roleEditor",""],[1,"nav-item","toolbaritem"],["href","javascript:;",1,"nav-link",3,"click"],[1,"fa","fa-plus-circle"],["class","btn btn-link btn-sm","href","javascript:;",3,"click",4,"ngIf"],["href","javascript:;",1,"btn","btn-link","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],["aria-hidden","true",1,"fa","fa-eye"],["aria-hidden","true",1,"fa","fa-trash-o"],[1,"modal-title","float-left"],[1,"fa","fa-shield"]],template:function(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div"),i.ɵɵelementStart(1,"div",0),i.ɵɵelementStart(2,"div",1),i.ɵɵelementStart(3,"div",2),i.ɵɵelementStart(4,"search-box",3),i.ɵɵlistener("searchChange",(function(e){return t.onSearchChanged(e)})),i.ɵɵpipe(5,"translate"),i.ɵɵtext(6,">"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(7,"div",4),i.ɵɵelementStart(8,"ul",5),i.ɵɵtemplate(9,xn,5,3,"li",6),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelement(10,"ngx-datatable",7),i.ɵɵtemplate(11,Cn,2,1,"ng-template",null,8,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(13,Pn,4,4,"ng-template",null,9,i.ɵɵtemplateRefExtractor),i.ɵɵelementStart(15,"div",10,11),i.ɵɵlistener("onHidden",(function(){return t.onEditorModalHidden()})),i.ɵɵelementStart(17,"div",12),i.ɵɵelementStart(18,"div",13),i.ɵɵelementStart(19,"div",14),i.ɵɵtemplate(20,Rn,4,4,"h4",15),i.ɵɵtemplate(21,Un,5,6,"h4",15),i.ɵɵelementStart(22,"button",16),i.ɵɵlistener("click",(function(){return i.ɵɵrestoreView(n),i.ɵɵreference(16).hide()})),i.ɵɵelementStart(23,"span",17),i.ɵɵtext(24,"×"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(25,"div",18),i.ɵɵelement(26,"role-editor",null,19),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd()}2&e&&(i.ɵɵadvance(4),i.ɵɵpropertyInterpolate("placeholder",i.ɵɵpipeBind1(5,13,"roles.management.Search")),i.ɵɵadvance(5),i.ɵɵproperty("ngIf",t.canManageRoles),i.ɵɵadvance(1),i.ɵɵproperty("loadingIndicator",t.loadingIndicator)("rows",t.rows)("rowHeight",35)("headerHeight",35)("footerHeight",35)("columns",t.columns)("scrollbarV",!0)("columnMode","force"),i.ɵɵadvance(5),i.ɵɵproperty("config",i.ɵɵpureFunction0(15,Tn)),i.ɵɵadvance(5),i.ɵɵproperty("ngIf",!t.canManageRoles),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",t.canManageRoles))},directives:[ye,f.NgIf,u.DatatableComponent,g.ModalDirective,bn],pipes:[h.TranslatePipe],styles:[".control-box[_ngcontent-%COMP%]{margin-bottom:5px}.search-box[_ngcontent-%COMP%]{margin:0}.nav-item.toolbaritem[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-top:3px;padding-bottom:3px;min-width:100px}"]}),e}(),On=["statusHeaderTemplate"],Vn=["statusTemplate"],Dn=["nameTemplate"],An=["descriptionTemplate"],Bn=["actionsTemplate"],qn=["editorModal"];function jn(e,t){1&e&&i.ɵɵelement(0,"i",27)}function Ln(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div",28),i.ɵɵelementStart(1,"input",29),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),t.row.completed=e})),i.ɵɵelementEnd(),i.ɵɵelement(2,"label",30),i.ɵɵelementEnd()}if(2&e){var r=t.row,o=t.value;i.ɵɵadvance(1),i.ɵɵattributeInterpolate1("name","checkboxes-",o,""),i.ɵɵproperty("ngModel",r.completed)}}function _n(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"span",33),i.ɵɵlistener("dblclick",(function(){i.ɵɵrestoreView(n);var e=i.ɵɵnextContext().row;return i.ɵɵnextContext().editing[e.$$index+"-name"]=!0})),i.ɵɵtext(1),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵnextContext(),o=r.row,a=r.value;i.ɵɵclassProp("completed",o.completed),i.ɵɵattributeInterpolate1("title","Double click to edit - ",a,""),i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",a," ")}}function Hn(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"input",34),i.ɵɵlistener("blur",(function(e){i.ɵɵrestoreView(n);var t=i.ɵɵnextContext(),r=t.value,o=t.row;return i.ɵɵnextContext().updateValue(e,"name",r,o)})),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵnextContext().value;i.ɵɵproperty("value",r)}}function Fn(e,t){if(1&e&&(i.ɵɵtemplate(0,_n,2,4,"span",31),i.ɵɵtemplate(1,Hn,1,1,"input",32)),2&e){var n=t.row,r=i.ɵɵnextContext();i.ɵɵproperty("ngIf",!r.editing[n.$$index+"-name"]),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",r.editing[n.$$index+"-name"])}}function Qn(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"span",33),i.ɵɵlistener("dblclick",(function(){i.ɵɵrestoreView(n);var e=i.ɵɵnextContext().row;return i.ɵɵnextContext().editing[e.$$index+"-description"]=!0})),i.ɵɵtext(1),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵnextContext(),o=r.row,a=r.value;i.ɵɵclassProp("completed",o.completed),i.ɵɵattributeInterpolate1("title","Double click to edit - ",a,""),i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",a," ")}}function $n(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"input",34),i.ɵɵlistener("blur",(function(e){i.ɵɵrestoreView(n);var t=i.ɵɵnextContext(),r=t.value,o=t.row;return i.ɵɵnextContext().updateValue(e,"description",r,o)})),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵnextContext().value;i.ɵɵproperty("value",r)}}function zn(e,t){if(1&e&&(i.ɵɵtemplate(0,Qn,2,4,"span",31),i.ɵɵtemplate(1,$n,1,1,"input",32)),2&e){var n=t.row,r=i.ɵɵnextContext();i.ɵɵproperty("ngIf",!r.editing[n.$$index+"-description"]),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",r.editing[n.$$index+"-description"])}}function Gn(e,t){1&e&&i.ɵɵelement(0,"i",40)}function Jn(e,t){1&e&&i.ɵɵelement(0,"i",41)}function Wn(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"a",35),i.ɵɵlistener("click",(function(){i.ɵɵrestoreView(n);var e=t.row;return i.ɵɵnextContext().delete(e)})),i.ɵɵpipe(1,"translate"),i.ɵɵelement(2,"i",36),i.ɵɵelementEnd(),i.ɵɵelementStart(3,"a",37),i.ɵɵlistener("click",(function(){var e=t.row;return e.important=!e.important}))("mouseover",(function(){return t.row.isMouseOver=!0}))("mouseout",(function(){return t.row.isMouseOver=!1})),i.ɵɵpipe(4,"translate"),i.ɵɵtemplate(5,Gn,1,0,"i",38),i.ɵɵtemplate(6,Jn,1,0,"i",39),i.ɵɵelementEnd()}if(2&e){var r=t.row;i.ɵɵpropertyInterpolate("tooltip",i.ɵɵpipeBind1(1,4,"todoDemo.management.Delete")),i.ɵɵadvance(3),i.ɵɵpropertyInterpolate("tooltip",i.ɵɵpipeBind1(4,6,"todoDemo.management.Important")),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",r.important||r.isMouseOver),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",!r.important&&!r.isMouseOver)}}var Zn=function(e,t){return{"fa-check":e,"fa-times":t}};function Kn(e,t){if(1&e&&i.ɵɵelement(0,"i",64),2&e){i.ɵɵnextContext();var n=i.ɵɵreference(8);i.ɵɵproperty("ngClass",i.ɵɵpureFunction2(1,Zn,n.valid,!n.valid))}}function Xn(e,t){1&e&&(i.ɵɵelementStart(0,"span",65),i.ɵɵtext(1),i.ɵɵpipe(2,"translate"),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(2,1,"todoDemo.editor.TaskNameRequired")," "))}var Yn=function(e,t){return{"is-valid":e,"is-invalid":t}};function er(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"form",42,43),i.ɵɵlistener("ngSubmit",(function(){i.ɵɵrestoreView(n);var e=i.ɵɵreference(1),t=i.ɵɵreference(8),r=i.ɵɵnextContext();return e.form.valid?r.save():!t.valid&&r.showErrorAlert("Task name is required","Please enter a name for the task")})),i.ɵɵelementStart(2,"div",44),i.ɵɵelementStart(3,"label",45),i.ɵɵtext(4),i.ɵɵpipe(5,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(6,"div",46),i.ɵɵelementStart(7,"input",47,48),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext().taskEdit.name=e})),i.ɵɵelementEnd(),i.ɵɵtemplate(9,Kn,1,4,"i",49),i.ɵɵtemplate(10,Xn,3,3,"span",50),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(11,"div",51),i.ɵɵelementStart(12,"label",52),i.ɵɵtext(13),i.ɵɵpipe(14,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(15,"div",46),i.ɵɵelementStart(16,"input",53),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext().taskEdit.description=e})),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(17,"div",54),i.ɵɵelement(18,"label",55),i.ɵɵelementStart(19,"div",46),i.ɵɵelementStart(20,"div",28),i.ɵɵelementStart(21,"input",56),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext().taskEdit.important=e})),i.ɵɵelementEnd(),i.ɵɵelementStart(22,"label",57),i.ɵɵtext(23),i.ɵɵpipe(24,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(25,"div",54),i.ɵɵelementStart(26,"div",58),i.ɵɵelement(27,"hr",59),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(28,"div",60),i.ɵɵelementStart(29,"div",61),i.ɵɵelementStart(30,"button",62),i.ɵɵtext(31),i.ɵɵpipe(32,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelement(33,"div",63),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵreference(1),o=i.ɵɵreference(8),a=i.ɵɵnextContext();i.ɵɵadvance(4),i.ɵɵtextInterpolate1("",i.ɵɵpipeBind1(5,10,"todoDemo.editor.Name"),":"),i.ɵɵadvance(3),i.ɵɵproperty("ngClass",i.ɵɵpureFunction2(18,Yn,r.submitted&&o.valid,r.submitted&&!o.valid))("ngModel",a.taskEdit.name),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",r.submitted),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",r.submitted&&!o.valid),i.ɵɵadvance(3),i.ɵɵtextInterpolate1("",i.ɵɵpipeBind1(14,12,"todoDemo.editor.Description"),":"),i.ɵɵadvance(3),i.ɵɵproperty("ngModel",a.taskEdit.description),i.ɵɵadvance(5),i.ɵɵproperty("ngModel",a.taskEdit.important),i.ɵɵadvance(2),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(24,14,"todoDemo.editor.Important")),i.ɵɵadvance(8),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(32,16,"todoDemo.editor.AddTask"))}}var tr=function(){function e(e,t,n,r){this.alertService=e,this.translationService=t,this.localStorage=n,this.authService=r,this.rows=[],this.rowsCache=[],this.columns=[],this.editing={},this.taskEdit={},this.isDataLoaded=!1,this.loadingIndicator=!0,this.formResetToggle=!0,this._hideCompletedTasks=!1,this.verticalScrollbar=!1}return Object.defineProperty(e.prototype,"currentUserId",{get:function(){return this.authService.currentUser&&(this._currentUserId=this.authService.currentUser.id),this._currentUserId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideCompletedTasks",{get:function(){return this._hideCompletedTasks},set:function(e){this.rows=e?this.rowsCache.filter((function(e){return!e.completed})):U(this.rowsCache),this._hideCompletedTasks=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.loadingIndicator=!0,this.fetch((function(t){e.refreshDataIndexes(t),e.rows=t,e.rowsCache=U(t),e.isDataLoaded=!0,setTimeout((function(){e.loadingIndicator=!1}),1500)}));var t=function(t){return e.translationService.getTranslation(t)};this.columns=[{prop:"completed",name:"",width:30,headerTemplate:this.statusHeaderTemplate,cellTemplate:this.statusTemplate,resizeable:!1,canAutoResize:!1,sortable:!1,draggable:!1},{prop:"name",name:t("todoDemo.management.Task"),cellTemplate:this.nameTemplate,width:200},{prop:"description",name:t("todoDemo.management.Description"),cellTemplate:this.descriptionTemplate,width:500},{name:"",width:80,cellTemplate:this.actionsTemplate,resizeable:!1,canAutoResize:!1,sortable:!1,draggable:!1}]},e.prototype.ngOnDestroy=function(){this.saveToDisk()},e.prototype.fetch=function(e){var t=this,n=this.getFromDisk();null==n?setTimeout((function(){null==(n=t.getFromDisk())&&(n=[{completed:!0,important:!0,name:"Create visual studio extension",description:"Create a visual studio VSIX extension package that will add this project as an aspnet-core project template"},{completed:!1,important:!0,name:"Do a quick how-to writeup",description:""},{completed:!1,important:!1,name:"Create aspnet-core/Angular8 tutorials based on this project",description:"Create tutorials (blog/video/youtube) on how to build applications (full stack) using aspnet-core/Angular8. The tutorial will focus on getting productive with the technology right away rather than the details on how and why they work so audience can get onboard quickly."}]),e(n)}),1e3):e(n)},e.prototype.refreshDataIndexes=function(e){var t,n,r=0;try{for(var i=P(e),o=i.next();!o.done;o=i.next()){o.value.$$index=r++}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.onSearchChanged=function(e){this.rows=this.rowsCache.filter((function(n){return t.Utilities.searchArray(e,!1,n.name,n.description)||"important"==e&&n.important||"not important"==e&&!n.important}))},e.prototype.showErrorAlert=function(e,n){this.alertService.showMessage(e,n,t.MessageSeverity.error)},e.prototype.addTask=function(){var e=this;this.formResetToggle=!1,setTimeout((function(){e.formResetToggle=!0,e.taskEdit={},e.editorModal.show()}))},e.prototype.save=function(){this.rowsCache.splice(0,0,this.taskEdit),this.rows.splice(0,0,this.taskEdit),this.refreshDataIndexes(this.rowsCache),this.rows=U(this.rows),this.saveToDisk(),this.editorModal.hide()},e.prototype.updateValue=function(e,t,n,r){this.editing[r.$$index+"-"+t]=!1,this.rows[r.$$index][t]=e.target.value,this.rows=U(this.rows),this.saveToDisk()},e.prototype.delete=function(e){var n=this;this.alertService.showDialog("Are you sure you want to delete the task?",t.DialogType.confirm,(function(){return n.deleteHelper(e)}))},e.prototype.deleteHelper=function(e){this.rowsCache=this.rowsCache.filter((function(t){return t!==e})),this.rows=this.rows.filter((function(t){return t!==e})),this.saveToDisk()},e.prototype.getFromDisk=function(){return this.localStorage.getDataObject(e.DBKeyTodoDemo+":"+this.currentUserId)},e.prototype.saveToDisk=function(){this.isDataLoaded&&this.localStorage.saveSyncedSessionData(this.rowsCache,e.DBKeyTodoDemo+":"+this.currentUserId)},e.DBKeyTodoDemo="todo-demo.todo_list",e.ɵfac=function(t){return new(t||e)(i.ɵɵdirectiveInject(o.AlertService),i.ɵɵdirectiveInject(o.AppTranslationService),i.ɵɵdirectiveInject(o.LocalStoreManager),i.ɵɵdirectiveInject(n.AuthService))},e.ɵcmp=i.ɵɵdefineComponent({type:e,selectors:[["todo-demo"]],viewQuery:function(e,t){var n;(1&e&&(i.ɵɵstaticViewQuery(On,!0),i.ɵɵstaticViewQuery(Vn,!0),i.ɵɵstaticViewQuery(Dn,!0),i.ɵɵstaticViewQuery(An,!0),i.ɵɵstaticViewQuery(Bn,!0),i.ɵɵstaticViewQuery(qn,!0)),2&e)&&(i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.statusHeaderTemplate=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.statusTemplate=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.nameTemplate=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.descriptionTemplate=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.actionsTemplate=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.editorModal=n.first))},inputs:{verticalScrollbar:"verticalScrollbar"},decls:43,vars:23,consts:[[1,"row","control-box"],[1,"col-lg-8"],[1,"form-group","search-box"],[3,"placeholder","searchChange"],[1,"col-lg-4"],[1,"nav","flex-column","flex-lg-row"],[1,"nav-item","toolbaritem"],["href","javascript:;",1,"nav-link",3,"click"],[1,"fa","fa-eye-slash"],[1,"fa","fa-plus"],[1,"material","colored-header","sm","table-hover",3,"loadingIndicator","rows","rowHeight","headerHeight","footerHeight","columns","scrollbarV","columnMode"],["statusHeaderTemplate",""],["statusTemplate",""],["nameTemplate",""],["descriptionTemplate",""],["actionsTemplate",""],["bsModal","","tabindex","-1",1,"modal","fade"],["editorModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","float-left"],[1,"fa","fa-tasks"],["type","button","title","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["name","taskEditorForm","novalidate","",3,"ngSubmit",4,"ngIf"],[1,"fa","fa-check-square-o"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],["class","inline-label",3,"completed","dblclick",4,"ngIf"],["class","inline-editor","autofocus","","type","text",3,"value","blur",4,"ngIf"],[1,"inline-label",3,"dblclick"],["autofocus","","type","text",1,"inline-editor",3,"value","blur"],["href","javascript:;","container","body",1,"btn","btn-link","btn-sm",3,"tooltip","click"],[1,"fa","fa-times"],["href","javascript:;","container","body",1,"btn","btn-link","btn-sm",3,"tooltip","click","mouseover","mouseout"],["class","fa fa-bookmark",4,"ngIf"],["class","fa fa-bookmark-o",4,"ngIf"],[1,"fa","fa-bookmark"],[1,"fa","fa-bookmark-o"],["name","taskEditorForm","novalidate","",3,"ngSubmit"],["f","ngForm"],[1,"form-group","row","has-feedback-icon"],["for","taskName",1,"col-form-label","col-md-3"],[1,"col-md-9"],["autofocus","","type","text","id","taskName","name","taskName","placeholder","Enter task name","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["taskName","ngModel"],["class","fa form-control-feedback","aria-hidden","true",3,"ngClass",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],[1,"form-group","row","description-form-group"],["for","taskDescription",1,"col-form-label","col-md-3"],["type","text","id","taskDescription","name","taskDescription","placeholder","Enter task description",1,"form-control",3,"ngModel","ngModelChange"],[1,"row"],[1,"col-form-label","col-md-3"],["id","isImportant","name","isImportant","type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],["for","isImportant",1,"form-check-label"],[1,"col-md-12"],[1,"edit-last-separator-hr"],[1,"form-group","actionBtn-form-group"],[1,"float-right"],["type","submit",1,"btn","btn-primary"],[1,"clearfix"],["aria-hidden","true",1,"fa","form-control-feedback",3,"ngClass"],[1,"invalid-feedback"]],template:function(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div"),i.ɵɵelementStart(1,"div",0),i.ɵɵelementStart(2,"div",1),i.ɵɵelementStart(3,"div",2),i.ɵɵelementStart(4,"search-box",3),i.ɵɵlistener("searchChange",(function(e){return t.onSearchChanged(e)})),i.ɵɵpipe(5,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(6,"div",4),i.ɵɵelementStart(7,"ul",5),i.ɵɵelementStart(8,"li",6),i.ɵɵelementStart(9,"a",7),i.ɵɵlistener("click",(function(){return t.hideCompletedTasks=!t.hideCompletedTasks})),i.ɵɵelement(10,"i",8),i.ɵɵtext(11),i.ɵɵpipe(12,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(13,"li",6),i.ɵɵelementStart(14,"a",7),i.ɵɵlistener("click",(function(){return t.addTask()})),i.ɵɵelement(15,"i",9),i.ɵɵtext(16),i.ɵɵpipe(17,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelement(18,"ngx-datatable",10),i.ɵɵtemplate(19,jn,1,0,"ng-template",null,11,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(21,Ln,3,2,"ng-template",null,12,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(23,Fn,2,2,"ng-template",null,13,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(25,zn,2,2,"ng-template",null,14,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(27,Wn,7,8,"ng-template",null,15,i.ɵɵtemplateRefExtractor),i.ɵɵelementStart(29,"div",16,17),i.ɵɵelementStart(31,"div",18),i.ɵɵelementStart(32,"div",19),i.ɵɵelementStart(33,"div",20),i.ɵɵelementStart(34,"h4",21),i.ɵɵelement(35,"i",22),i.ɵɵtext(36),i.ɵɵpipe(37,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(38,"button",23),i.ɵɵlistener("click",(function(){return i.ɵɵrestoreView(n),i.ɵɵreference(30).hide()})),i.ɵɵelementStart(39,"span",24),i.ɵɵtext(40,"×"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(41,"div",25),i.ɵɵtemplate(42,er,34,21,"form",26),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd()}2&e&&(i.ɵɵadvance(4),i.ɵɵpropertyInterpolate("placeholder",i.ɵɵpipeBind1(5,15,"todoDemo.management.Search")),i.ɵɵadvance(4),i.ɵɵclassProp("active",t.hideCompletedTasks),i.ɵɵadvance(3),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(12,17,"todoDemo.management.HideCompleted"),""),i.ɵɵadvance(5),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(17,19,"todoDemo.management.AddTask"),""),i.ɵɵadvance(2),i.ɵɵproperty("loadingIndicator",t.loadingIndicator)("rows",t.rows)("rowHeight",35)("headerHeight",35)("footerHeight",35)("columns",t.columns)("scrollbarV",t.verticalScrollbar)("columnMode","force"),i.ɵɵadvance(18),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(37,21,"todoDemo.editor.NewTask"),""),i.ɵɵadvance(6),i.ɵɵproperty("ngIf",t.formResetToggle))},directives:[ye,u.DatatableComponent,g.ModalDirective,f.NgIf,p.CheckboxControlValueAccessor,p.NgControlStatus,p.NgModel,W,m.TooltipDirective,p.ɵangular_packages_forms_forms_y,p.NgControlStatusGroup,p.NgForm,p.DefaultValueAccessor,p.RequiredValidator,f.NgClass],pipes:[h.TranslatePipe],styles:["input.form-control[_ngcontent-%COMP%]{border-left-width:5px}.control-box[_ngcontent-%COMP%]{margin-bottom:5px}.search-box[_ngcontent-%COMP%]{margin:0}.nav-item.toolbaritem[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-top:3px;padding-bottom:3px;min-width:100px;font-weight:700}.completed[_ngcontent-%COMP%]{text-decoration:line-through}.form-check[_ngcontent-%COMP%]{margin:0}.inline-label[_ngcontent-%COMP%]{width:100%;min-height:1rem;display:inline-block}.inline-editor[_ngcontent-%COMP%]{width:100%}.description-form-group[_ngcontent-%COMP%]{margin-bottom:5px}.actionBtn-form-group[_ngcontent-%COMP%]{margin:0}.edit-last-separator-hr[_ngcontent-%COMP%]{margin:10px 0}"]}),e}();function nr(e,t){if(1&e&&(i.ɵɵelementStart(0,"th",6),i.ɵɵtext(1),i.ɵɵelementEnd()),2&e){var n=t.$implicit;i.ɵɵadvance(1),i.ɵɵtextInterpolate(n)}}function rr(e,t){if(1&e&&(i.ɵɵelementStart(0,"td"),i.ɵɵtext(1),i.ɵɵelementEnd()),2&e){var n=t.index,r=i.ɵɵnextContext().$implicit;i.ɵɵadvance(1),i.ɵɵtextInterpolate(r&&r.data[n])}}function ir(e,t){if(1&e&&(i.ɵɵelementStart(0,"tr"),i.ɵɵelementStart(1,"th"),i.ɵɵtext(2),i.ɵɵelementEnd(),i.ɵɵtemplate(3,rr,2,1,"td",8),i.ɵɵelementEnd()),2&e){var n=t.$implicit,r=i.ɵɵnextContext();i.ɵɵadvance(2),i.ɵɵtextInterpolate(n&&n.label.split(" ").pop()),i.ɵɵadvance(1),i.ɵɵproperty("ngForOf",r.chartLabels)}}var or=function(){function e(e){this.alertService=e,this.chartData=[{data:[65,59,80,81,56,55],label:"Series A"},{data:[28,48,40,19,86,27],label:"Series B"},{data:[18,48,77,9,100,27],label:"Series C"}],this.chartLabels=["Jan","Feb","Mar","Apr","May","Jun"],this.chartOptions={responsive:!0,title:{display:!1,fontSize:16,text:"Important Stuff"}},this.chartColors=[{backgroundColor:"rgba(148,159,177,0.2)",borderColor:"rgba(148,159,177,1)",pointBackgroundColor:"rgba(148,159,177,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(148,159,177,0.8)"},{backgroundColor:"rgba(77,83,96,0.2)",borderColor:"rgba(77,83,96,1)",pointBackgroundColor:"rgba(77,83,96,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(77,83,96,1)"},{backgroundColor:"rgba(128,128,128,0.2)",borderColor:"rgba(128,128,128,1)",pointBackgroundColor:"rgba(128,128,128,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(128,128,128,0.8)"}],this.chartLegend=!0,this.chartType="line"}return e.prototype.ngOnInit=function(){var e=this;this.timerReference=setInterval((function(){return e.randomize()}),5e3);var t=a.of(window.innerWidth),n=a.fromEvent(window,"resize").pipe(s.map((function(e){return e.target.innerWidth})));this.windowWidth$=a.merge(t,n).pipe(s.distinctUntilChanged()),this.windowWidthSub=this.windowWidth$.subscribe((function(t){return e.chartLegend=!(t<600)}))},e.prototype.ngOnDestroy=function(){clearInterval(this.timerReference),this.windowWidthSub.unsubscribe()},e.prototype.randomize=function(){for(var e=new Array(this.chartData.length),t=0;t<this.chartData.length;t++){e[t]={data:new Array(this.chartData[t].data.length),label:this.chartData[t].label};for(var n=0;n<this.chartData[t].data.length;n++)e[t].data[n]=Math.floor(100*Math.random()+1)}this.chartData=e},e.prototype.changeChartType=function(e){this.chartType=e},e.prototype.showMessage=function(e){this.alertService.showMessage("Demo",e,t.MessageSeverity.info)},e.prototype.showDialog=function(e){var n=this;this.alertService.showDialog(e,t.DialogType.prompt,(function(e){return n.configure(!0,e)}),(function(){return n.configure(!1)}))},e.prototype.configure=function(e,n){var r=this;e?(this.alertService.showStickyMessage("Simulating...","",t.MessageSeverity.wait),setTimeout((function(){r.alertService.resetStickyMessage(),r.alertService.showMessage("Demo",'Your settings was successfully configured to "'+n+'"',t.MessageSeverity.success)}),2e3)):this.alertService.showMessage("Demo","Operation cancelled by user",t.MessageSeverity.default)},e.prototype.chartClicked=function(e){console.log(e)},e.prototype.chartHovered=function(e){console.log(e)},e.ɵfac=function(t){return new(t||e)(i.ɵɵdirectiveInject(o.AlertService))},e.ɵcmp=i.ɵɵdefineComponent({type:e,selectors:[["statistics-demo"]],decls:42,vars:20,consts:[[1,"row","statistics-container"],[1,"col-md-6"],[1,"chart-container"],["baseChart","","width","600","height","250",3,"datasets","labels","options","colors","legend","chartType","chartHover","chartClick"],[1,"d-none","d-sm-block","table-responsive"],[1,"table","table-sm"],[1,"border-top-0"],["class","border-top-0",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"refresh-btn",3,"click"],["dropdown","",1,"chart-type-container"],["id","chartType","type","button","data-toggle","dropdown",1,"dropdown-toggle"],[1,"fa","fa-bar-chart"],[1,"dropdown-menu"],["href","javascript:;",1,"dropdown-item",3,"click"],[1,"dropdown-divider"],[3,"click"],[1,"fa","fa-bars"],[1,"fa","fa-cogs"]],template:function(e,t){1&e&&(i.ɵɵelementStart(0,"div",0),i.ɵɵelementStart(1,"div",1),i.ɵɵelementStart(2,"div",2),i.ɵɵelementStart(3,"canvas",3),i.ɵɵlistener("chartHover",(function(e){return t.chartHovered(e)}))("chartClick",(function(e){return t.chartClicked(e)})),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(4,"div",1),i.ɵɵelementStart(5,"div",4),i.ɵɵelementStart(6,"table",5),i.ɵɵelementStart(7,"thead"),i.ɵɵelementStart(8,"tr"),i.ɵɵelement(9,"th",6),i.ɵɵtemplate(10,nr,2,1,"th",7),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(11,"tbody"),i.ɵɵtemplate(12,ir,4,2,"tr",8),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(13,"button",9),i.ɵɵlistener("click",(function(){return t.randomize(),t.showMessage("Manual refresh!")})),i.ɵɵtext(14,"REFSH"),i.ɵɵelementEnd(),i.ɵɵelementStart(15,"div",10),i.ɵɵelementStart(16,"button",11),i.ɵɵelement(17,"i",12),i.ɵɵelementEnd(),i.ɵɵelementStart(18,"ul",13),i.ɵɵelementStart(19,"li"),i.ɵɵelementStart(20,"a",14),i.ɵɵlistener("click",(function(){return t.changeChartType("bar")})),i.ɵɵtext(21,"Bar Chart"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(22,"li"),i.ɵɵelementStart(23,"a",14),i.ɵɵlistener("click",(function(){return t.changeChartType("pie")})),i.ɵɵtext(24,"Pie Chart"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(25,"li"),i.ɵɵelementStart(26,"a",14),i.ɵɵlistener("click",(function(){return t.changeChartType("doughnut")})),i.ɵɵtext(27,"Doughnut Chart"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(28,"li"),i.ɵɵelementStart(29,"a",14),i.ɵɵlistener("click",(function(){return t.changeChartType("polarArea")})),i.ɵɵtext(30,"Polar Area Chart"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(31,"li"),i.ɵɵelementStart(32,"a",14),i.ɵɵlistener("click",(function(){return t.changeChartType("radar")})),i.ɵɵtext(33,"Radar Chart"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelement(34,"li",15),i.ɵɵelementStart(35,"li"),i.ɵɵelementStart(36,"a",14),i.ɵɵlistener("click",(function(){return t.changeChartType("line")})),i.ɵɵtext(37,"Line Chart"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(38,"button",16),i.ɵɵlistener("click",(function(){return t.showMessage("You've clicked on the menu")})),i.ɵɵelement(39,"i",17),i.ɵɵelementEnd(),i.ɵɵelementStart(40,"button",16),i.ɵɵlistener("click",(function(){return t.showDialog("Enter some value to do serious configuration...")})),i.ɵɵelement(41,"i",18),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(3),i.ɵɵproperty("datasets",t.chartData)("labels",t.chartLabels)("options",t.chartOptions)("colors",t.chartColors)("legend",t.chartLegend)("chartType",t.chartType),i.ɵɵadvance(7),i.ɵɵproperty("ngForOf",t.chartLabels),i.ɵɵadvance(2),i.ɵɵproperty("ngForOf",t.chartData),i.ɵɵadvance(7),i.ɵɵclassProp("active","bar"==t.chartType),i.ɵɵadvance(3),i.ɵɵclassProp("active","pie"==t.chartType),i.ɵɵadvance(3),i.ɵɵclassProp("active","doughnut"==t.chartType),i.ɵɵadvance(3),i.ɵɵclassProp("active","polarArea"==t.chartType),i.ɵɵadvance(3),i.ɵɵclassProp("active","radar"==t.chartType),i.ɵɵadvance(4),i.ɵɵclassProp("active","line"==t.chartType))},directives:[b.BaseChartDirective,f.NgForOf,y.BsDropdownDirective],styles:[".statistics-container[_ngcontent-%COMP%]{font-size:.875rem}.chart-container[_ngcontent-%COMP%]{display:block}.refresh-btn[_ngcontent-%COMP%]{margin-right:10px}.chart-type-container[_ngcontent-%COMP%]{display:inline-block}.chart-type-container[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#e8e8e8}"]}),e}(),ar=["tab"];function sr(e,t){1&e&&(i.ɵɵelementStart(0,"div",16),i.ɵɵelement(1,"user-info"),i.ɵɵelementEnd()),2&e&&i.ɵɵproperty("@fadeInOut",void 0)}function lr(e,t){1&e&&(i.ɵɵelementStart(0,"div",16),i.ɵɵelement(1,"user-preferences"),i.ɵɵelementEnd()),2&e&&i.ɵɵproperty("@fadeInOut",void 0)}var cr=function(){return[]},dr=function(){function e(e,t,n){this.router=e,this.route=t,this.accountService=n,this.isProfileActivated=!0,this.isPreferencesActivated=!1,this.isUsersActivated=!1,this.isRolesActivated=!1,this.profileTab="profile",this.preferencesTab="preferences",this.usersTab="users",this.rolesTab="roles"}return e.prototype.ngOnInit=function(){var e=this;this.fragmentSubscription=this.route.fragment.subscribe((function(t){return e.showContent(t)}))},e.prototype.ngOnDestroy=function(){this.fragmentSubscription.unsubscribe()},e.prototype.showContent=function(e){e&&(e=e.toLowerCase()),this.isFragmentEquals(e,this.usersTab)&&!this.canViewUsers||this.isFragmentEquals(e,this.rolesTab)&&!this.canViewRoles||this.tab.show("#"+(e||this.profileTab)+"Tab")},e.prototype.isFragmentEquals=function(e,t){return null==e&&(e=""),null==t&&(t=""),e.toLowerCase()==t.toLowerCase()},e.prototype.onShowTab=function(e){var t=e.target.hash.split("#",2).pop();this.isProfileActivated=t==this.profileTab,this.isPreferencesActivated=t==this.preferencesTab,this.isUsersActivated=t==this.usersTab,this.isRolesActivated=t==this.rolesTab,this.router.navigate([],{fragment:t})},Object.defineProperty(e.prototype,"canViewUsers",{get:function(){return this.accountService.userHasPermission(n.Permission.viewUsersPermission)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canViewRoles",{get:function(){return this.accountService.userHasPermission(n.Permission.viewRolesPermission)},enumerable:!0,configurable:!0}),e.ɵfac=function(t){return new(t||e)(i.ɵɵdirectiveInject(c.Router),i.ɵɵdirectiveInject(c.ActivatedRoute),i.ɵɵdirectiveInject(L))},e.ɵcmp=i.ɵɵdefineComponent({type:e,selectors:[["settings"]],viewQuery:function(e,t){var n;(1&e&&i.ɵɵstaticViewQuery(ar,!0),2&e)&&(i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.tab=n.first))},decls:33,vars:22,consts:[[1,"container","settings-page"],[1,"pageHeader"],["aria-hidden","true",1,"fa","fa-cog","fa-lg","page-caption"],[1,"d-sm-flex","flex-row"],["bootstrapTab","","role","navigation",1,"nav","nav-tabs","nav-tabs--vertical","nav-tabs--left",3,"showBSTab"],["tab","bootstrap-tab"],[1,"nav-item"],["id","profileTab","fragment","profile","data-target","#profile","href","#profile","data-toggle","tab","role","tab","aria-controls","profile",1,"nav-link","active",3,"routerLink"],["aria-hidden","true",1,"fa","fa-user-circle-o","fa-fw"],["id","preferencesTab","fragment","preferences","data-target","#preferences","href","#preferences","data-toggle","tab","role","tab","aria-controls","preferences",1,"nav-link",3,"routerLink"],["aria-hidden","true",1,"fa","fa-sliders","fa-fw"],[1,"tab-content","w-100"],["id","profile","role","tabpanel",1,"tab-pane","show","active"],[1,"separator-hr"],["class","content-container pl-lg-2",4,"ngIf"],["id","preferences","role","tabpanel",1,"tab-pane"],[1,"content-container","pl-lg-2"]],template:function(e,t){1&e&&(i.ɵɵelementStart(0,"div",0),i.ɵɵelementStart(1,"header",1),i.ɵɵelementStart(2,"h3"),i.ɵɵelement(3,"i",2),i.ɵɵtext(4),i.ɵɵpipe(5,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(6,"div"),i.ɵɵelementStart(7,"div",3),i.ɵɵelementStart(8,"ul",4,5),i.ɵɵlistener("showBSTab",(function(e){return t.onShowTab(e)})),i.ɵɵelementStart(10,"li",6),i.ɵɵelementStart(11,"a",7),i.ɵɵelement(12,"i",8),i.ɵɵtext(13),i.ɵɵpipe(14,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(15,"li",6),i.ɵɵelementStart(16,"a",9),i.ɵɵelement(17,"i",10),i.ɵɵtext(18),i.ɵɵpipe(19,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(20,"div",11),i.ɵɵelementStart(21,"div",12),i.ɵɵelementStart(22,"h4"),i.ɵɵtext(23),i.ɵɵpipe(24,"translate"),i.ɵɵelementEnd(),i.ɵɵelement(25,"hr",13),i.ɵɵtemplate(26,sr,2,1,"div",14),i.ɵɵelementEnd(),i.ɵɵelementStart(27,"div",15),i.ɵɵelementStart(28,"h4"),i.ɵɵtext(29),i.ɵɵpipe(30,"translate"),i.ɵɵelementEnd(),i.ɵɵelement(31,"hr",13),i.ɵɵtemplate(32,lr,2,1,"div",14),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(4),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(5,10,"pageHeader.Settings"),""),i.ɵɵadvance(2),i.ɵɵproperty("@fadeInOut",void 0),i.ɵɵadvance(5),i.ɵɵproperty("routerLink",i.ɵɵpureFunction0(20,cr)),i.ɵɵadvance(2),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(14,12,"settings.tab.Profile")," "),i.ɵɵadvance(3),i.ɵɵproperty("routerLink",i.ɵɵpureFunction0(21,cr)),i.ɵɵadvance(2),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(19,14,"settings.tab.Preferences")," "),i.ɵɵadvance(5),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(24,16,"settings.header.UserProfile")),i.ɵɵadvance(3),i.ɵɵproperty("ngIf",t.isProfileActivated),i.ɵɵadvance(3),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(30,18,"settings.header.UserPreferences")),i.ɵɵadvance(3),i.ɵɵproperty("ngIf",t.isPreferencesActivated))},directives:[X,c.RouterLinkWithHref,f.NgIf,Pt,tn],pipes:[h.TranslatePipe],styles:[".separator-hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:10px}[hidden][_ngcontent-%COMP%]{display:none}"],data:{animation:[A]}}),e}(),pr=function(){function e(){}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=i.ɵɵdefineComponent({type:e,selectors:[["not-found"]],decls:19,vars:13,consts:[[1,"pageHeader"],["aria-hidden","true",1,"fa","fa-exclamation-circle","fa-lg","page-caption"],[1,"d-flex","h-75"],[1,"m-auto"],[1,"icon-container"],[1,"fa","fa-exclamation-circle"],[1,"text-muted","error-description"],["routerLink","/",1,"btn","btn-primary"],[1,"fa","fa-home"]],template:function(e,t){1&e&&(i.ɵɵelementStart(0,"header",0),i.ɵɵelementStart(1,"h3"),i.ɵɵelement(2,"i",1),i.ɵɵtext(3),i.ɵɵpipe(4,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(5,"div",2),i.ɵɵelementStart(6,"div",3),i.ɵɵelementStart(7,"div",4),i.ɵɵelement(8,"i",5),i.ɵɵtext(9),i.ɵɵpipe(10,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(11,"div",6),i.ɵɵtext(12),i.ɵɵpipe(13,"translate"),i.ɵɵelementEnd(),i.ɵɵelementStart(14,"div"),i.ɵɵelementStart(15,"a",7),i.ɵɵelement(16,"i",8),i.ɵɵtext(17),i.ɵɵpipe(18,"translate"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(3),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(4,5,"pageHeader.NotFound"),""),i.ɵɵadvance(2),i.ɵɵproperty("@fadeInOut",void 0),i.ɵɵadvance(4),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(10,7,"notFound.404"),""),i.ɵɵadvance(3),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(13,9,"notFound.pageNotFound")),i.ɵɵadvance(5),i.ɵɵtextInterpolate1(" ",i.ɵɵpipeBind1(18,11,"notFound.backToHome"),""))},directives:[c.RouterLinkWithHref],pipes:[h.TranslatePipe],styles:[".icon-container[_ngcontent-%COMP%]{font-size:5rem}.error-description[_ngcontent-%COMP%]{font-size:1.5rem;padding-bottom:10px}"],data:{animation:[A]}}),e}();function ur(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"button",9),i.ɵɵlistener("click",(function(){return i.ɵɵrestoreView(n),i.ɵɵnextContext().closeModal()})),i.ɵɵelementStart(1,"span",10),i.ɵɵtext(2,"×"),i.ɵɵelementEnd(),i.ɵɵelementEnd()}}var mr=function(e,t){return{"fa-check":e,"fa-times":t}};function fr(e,t){if(1&e&&i.ɵɵelement(0,"i",30),2&e){i.ɵɵnextContext();var n=i.ɵɵreference(7);i.ɵɵproperty("ngClass",i.ɵɵpureFunction2(1,mr,n.valid,!n.valid))}}function hr(e,t){1&e&&(i.ɵɵelementStart(0,"span",31),i.ɵɵtext(1," Username is required "),i.ɵɵelementEnd())}function gr(e,t){if(1&e&&i.ɵɵelement(0,"i",30),2&e){i.ɵɵnextContext();var n=i.ɵɵreference(15);i.ɵɵproperty("ngClass",i.ɵɵpureFunction2(1,mr,n.valid,!n.valid))}}function vr(e,t){1&e&&(i.ɵɵelementStart(0,"span",31),i.ɵɵtext(1," Password is required "),i.ɵɵelementEnd())}function br(e,t){1&e&&i.ɵɵelement(0,"i",32)}var yr=function(e,t){return{"is-valid":e,"is-invalid":t}};function Sr(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"form",11,12),i.ɵɵlistener("ngSubmit",(function(){i.ɵɵrestoreView(n);var e=i.ɵɵreference(1),t=i.ɵɵreference(7),r=i.ɵɵreference(15),o=i.ɵɵnextContext();return e.form.valid?o.login():!t.valid&&o.showErrorAlert("Username is required","Please enter a valid username"),!r.valid&&o.showErrorAlert("Password is required","Please enter a valid password")})),i.ɵɵelementStart(2,"div",13),i.ɵɵelementStart(3,"label",14),i.ɵɵtext(4,"Username:"),i.ɵɵelementEnd(),i.ɵɵelementStart(5,"div",15),i.ɵɵelementStart(6,"input",16,17),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext().userLogin.userName=e})),i.ɵɵelementEnd(),i.ɵɵtemplate(8,fr,1,4,"i",18),i.ɵɵtemplate(9,hr,2,0,"span",19),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(10,"div",13),i.ɵɵelementStart(11,"label",20),i.ɵɵtext(12,"Password:"),i.ɵɵelementEnd(),i.ɵɵelementStart(13,"div",15),i.ɵɵelementStart(14,"input",21,22),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext().userLogin.password=e})),i.ɵɵelementEnd(),i.ɵɵtemplate(16,gr,1,4,"i",18),i.ɵɵtemplate(17,vr,2,0,"span",19),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(18,"div",23),i.ɵɵelementStart(19,"div",24),i.ɵɵelementStart(20,"div",25),i.ɵɵelementStart(21,"input",26),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext().userLogin.rememberMe=e})),i.ɵɵelementEnd(),i.ɵɵelementStart(22,"label",27),i.ɵɵtext(23,"Remember me"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(24,"div",23),i.ɵɵelementStart(25,"div",24),i.ɵɵelementStart(26,"button",28),i.ɵɵtemplate(27,br,1,0,"i",29),i.ɵɵtext(28),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd()}if(2&e){var r=i.ɵɵreference(1),o=i.ɵɵreference(7),a=i.ɵɵreference(15),s=i.ɵɵnextContext();i.ɵɵadvance(6),i.ɵɵproperty("ngClass",i.ɵɵpureFunction2(12,yr,r.submitted&&o.valid,r.submitted&&!o.valid))("ngModel",s.userLogin.userName),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",r.submitted),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",r.submitted&&!o.valid),i.ɵɵadvance(5),i.ɵɵproperty("ngClass",i.ɵɵpureFunction2(15,yr,r.submitted&&a.valid,r.submitted&&!a.valid))("ngModel",s.userLogin.password),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",r.submitted),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",r.submitted&&!a.valid),i.ɵɵadvance(4),i.ɵɵproperty("ngModel",s.userLogin.rememberMe),i.ɵɵadvance(5),i.ɵɵproperty("disabled",s.isLoading),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",s.isLoading),i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",s.isLoading?"Logging in...":"Login"," ")}}var Er=function(){function e(e,t,n){this.alertService=e,this.authService=t,this.configurations=n,this.userLogin=new D,this.isLoading=!1,this.formResetToggle=!0,this.isModal=!1}return e.prototype.ngOnInit=function(){var e=this;this.userLogin.rememberMe=this.authService.rememberMe,this.getShouldRedirect()?this.authService.redirectLoginUser():this.loginStatusSubscription=this.authService.getLoginStatusEvent().subscribe((function(t){e.getShouldRedirect()&&e.authService.redirectLoginUser()}))},e.prototype.ngOnDestroy=function(){this.loginStatusSubscription&&this.loginStatusSubscription.unsubscribe()},e.prototype.getShouldRedirect=function(){return!this.isModal&&this.authService.isLoggedIn&&!this.authService.isSessionExpired},e.prototype.showErrorAlert=function(e,n){this.alertService.showMessage(e,n,t.MessageSeverity.error)},e.prototype.closeModal=function(){this.modalClosedCallback&&this.modalClosedCallback()},e.prototype.login=function(){var e=this;this.isLoading=!0,this.alertService.startLoadingMessage("","Attempting login..."),this.authService.loginWithPassword(this.userLogin.userName,this.userLogin.password,this.userLogin.rememberMe).subscribe((function(n){setTimeout((function(){e.alertService.stopLoadingMessage(),e.isLoading=!1,e.reset(),e.isModal?(e.alertService.showMessage("Login","Session for "+n.userName+" restored!",t.MessageSeverity.success),setTimeout((function(){e.alertService.showStickyMessage("Session Restored","Please try your last operation again",t.MessageSeverity.default)}),500),e.closeModal()):e.alertService.showMessage("Login","Welcome "+n.userName+"!",t.MessageSeverity.success)}),500)}),(function(n){if(e.alertService.stopLoadingMessage(),t.Utilities.checkNoNetwork(n))e.alertService.showStickyMessage(t.Utilities.noNetworkMessageCaption,t.Utilities.noNetworkMessageDetail,t.MessageSeverity.error,n),e.offerAlternateHost();else{var r=t.Utilities.getHttpResponseMessage(n);r?e.alertService.showStickyMessage("Unable to login",e.mapLoginErrorMessage(r),t.MessageSeverity.error,n):e.alertService.showStickyMessage("Unable to login","An error occured whilst logging in, please try again later.\nError: "+t.Utilities.getResponseBody(n),t.MessageSeverity.error,n)}setTimeout((function(){e.isLoading=!1}),500)}))},e.prototype.offerAlternateHost=function(){var e=this;t.Utilities.checkIsLocalHost(location.origin)&&t.Utilities.checkIsLocalHost(this.configurations.baseUrl)&&this.alertService.showDialog("Dear Developer!\nIt appears your backend Web API service is not running...\nWould you want to temporarily switch to the online Demo API below?(Or specify another)",t.DialogType.prompt,(function(n){e.configurations.baseUrl=n,e.configurations.tokenUrl=n,e.alertService.showStickyMessage("API Changed!","The target Web API has been changed to: "+n,t.MessageSeverity.warn)}),null,null,null,this.configurations.fallbackBaseUrl)},e.prototype.mapLoginErrorMessage=function(e){return"invalid_username_or_password"==e?"Invalid username or password":"invalid_grant"==e?"This account has been disabled":e},e.prototype.reset=function(){var e=this;this.formResetToggle=!1,setTimeout((function(){e.formResetToggle=!0}))},e.ɵfac=function(t){return new(t||e)(i.ɵɵdirectiveInject(o.AlertService),i.ɵɵdirectiveInject(n.AuthService),i.ɵɵdirectiveInject(o.ConfigurationService))},e.ɵcmp=i.ɵɵdefineComponent({type:e,selectors:[["app-login"]],inputs:{isModal:"isModal"},decls:10,vars:2,consts:[[1,"d-flex","h-90"],[1,"login-container","m-auto"],[1,"card","boxshadow"],[1,"card-header","bg-primary","dark","text-white","clearfix"],["aria-hidden","true",1,"fa","fa-lock"],["type","button","class","close float-right text-light","aria-label","Close",3,"click",4,"ngIf"],[1,"card-body"],[1,"col-md-8","offset-md-2"],["class","login","name","loginForm","novalidate","",3,"ngSubmit",4,"ngIf"],["type","button","aria-label","Close",1,"close","float-right","text-light",3,"click"],["aria-hidden","true"],["name","loginForm","novalidate","",1,"login",3,"ngSubmit"],["f","ngForm"],[1,"form-group","row","has-feedback-icon"],["for","login-username",1,"col-form-label","col-md-3"],[1,"col-md-9"],["type","text","id","login-username","name","username","placeholder","Enter username","autocomplete","username","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["username","ngModel"],["class","fa form-control-feedback","aria-hidden","true",3,"ngClass",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],["for","login-password",1,"col-form-label","col-md-3"],["type","password","id","login-password","name","password","placeholder","Enter password","autocomplete","current-password","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["password","ngModel"],[1,"form-group","row"],[1,"offset-md-3","col-md-9"],[1,"form-check"],["type","checkbox","id","login-rememberme","name","rememberMe",1,"form-check-input",3,"ngModel","ngModelChange"],["for","login-rememberme",1,"form-check-label"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","fa fa-circle-o-notch fa-spin",4,"ngIf"],["aria-hidden","true",1,"fa","form-control-feedback",3,"ngClass"],[1,"invalid-feedback"],[1,"fa","fa-circle-o-notch","fa-spin"]],template:function(e,t){1&e&&(i.ɵɵelementStart(0,"div",0),i.ɵɵelementStart(1,"div",1),i.ɵɵelementStart(2,"div",2),i.ɵɵelementStart(3,"div",3),i.ɵɵelement(4,"i",4),i.ɵɵtext(5," Login "),i.ɵɵtemplate(6,ur,3,0,"button",5),i.ɵɵelementEnd(),i.ɵɵelementStart(7,"div",6),i.ɵɵelementStart(8,"div",7),i.ɵɵtemplate(9,Sr,29,18,"form",8),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(6),i.ɵɵproperty("ngIf",t.isModal),i.ɵɵadvance(3),i.ɵɵproperty("ngIf",t.formResetToggle))},directives:[f.NgIf,p.ɵangular_packages_forms_forms_y,p.NgControlStatusGroup,p.NgForm,p.DefaultValueAccessor,p.RequiredValidator,f.NgClass,p.NgControlStatus,p.NgModel,p.CheckboxControlValueAccessor],styles:['.boxshadow[_ngcontent-%COMP%]{position:relative;box-shadow:1px 2px 4px rgba(0,0,0,.5);padding:10px;background:#fff}.boxshadow[_ngcontent-%COMP%]::after{content:"";position:absolute;z-index:-1;box-shadow:0 15px 20px rgba(0,0,0,.3);width:70%;left:15%;height:100px;bottom:0}.cardshadow[_ngcontent-%COMP%]{box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}.last-control-group[_ngcontent-%COMP%]{margin-bottom:-.75rem}.h-90[_ngcontent-%COMP%]{height:90%}@media (min-width:768px){.login-container[_ngcontent-%COMP%]{width:700px}}@media (min-width:1200px){.login-container[_ngcontent-%COMP%]{width:730px}}']}),e}(),wr=function(){function e(){}return e.ɵmod=i.ɵɵdefineNgModule({type:e}),e.ɵinj=i.ɵɵdefineInjector({factory:function(t){return new(t||e)},providers:[],imports:[[],f.CommonModule,p.FormsModule,p.ReactiveFormsModule,c.RouterModule,y.BsDropdownModule,S.TabsModule,E.PaginationModule,g.ModalModule,w.AccordionModule,x.PopoverModule,m.TooltipModule,C.CarouselModule,M.AlertModule,h.TranslateModule,u.NgxDatatableModule,b.ChartsModule]}),e}();("undefined"==typeof ngJitMode||ngJitMode)&&i.ɵɵsetNgModuleScope(wr,{exports:[f.CommonModule,p.FormsModule,p.ReactiveFormsModule,c.RouterModule,y.BsDropdownModule,S.TabsModule,E.PaginationModule,g.ModalModule,w.AccordionModule,x.PopoverModule,m.TooltipModule,C.CarouselModule,M.AlertModule,h.TranslateModule,u.NgxDatatableModule,b.ChartsModule]});var xr=function(){function e(e){if(e)throw new Error("NgxAppkitStarterAlphaModule is already loaded. Import it in the AppModule only")}return e.forRoot=function(){return{ngModule:e,providers:[]}},e.ɵmod=i.ɵɵdefineNgModule({type:e}),e.ɵinj=i.ɵɵdefineInjector({factory:function(t){return new(t||e)(i.ɵɵinject(e,12))},providers:[Q,H,_,L,j,z,q,B,G,F,{provide:t.AlertServiceAbstractProvider,useClass:z},{provide:t.ThemeManagerAbstractProvider,useClass:q},{provide:t.ConfigurationServiceAbstractProvider,useClass:B},{provide:t.LocalStoreManagerServiceAbstractProvider,useClass:G},{provide:t.TranslationServiceAbstractProvider,useClass:F}],imports:[[wr]]}),e}();("undefined"==typeof ngJitMode||ngJitMode)&&i.ɵɵsetNgModuleScope(xr,{declarations:[ee,te,W,X,Y,K,Z,J,Gt,Pt,tn,Nn,bn,ge,ye,or,tr,Er,dr,pr],imports:[wr],exports:[ee,te,W,X,Y,K,Z,J,Gt,Pt,tn,Nn,bn,ge,ye,or,tr,Er,dr,pr]}),e.AccountEndpoint=j,e.AccountService=L,e.AlertServiceProvider=z,e.AppTitleService=Q,e.AutofocusDirective=W,e.BootstrapDatepickerDirective=Z,e.BootstrapSelectDirective=K,e.BootstrapTabDirective=X,e.BootstrapToggleDirective=Y,e.ConfigurationServiceProvider=B,e.DependencyModule=wr,e.EqualValidator=ee,e.GroupByPipe=J,e.LastElementDirective=te,e.LocalStoreManagerProvider=G,e.LoginComponent=Er,e.NgxAppkitStarterAlphaModule=xr,e.NotFoundComponent=pr,e.Notification=N,e.NotificationEndpoint=_,e.NotificationService=H,e.NotificationsViewerComponent=ge,e.Role=O,e.RoleEditorComponent=bn,e.RolesManagementComponent=Nn,e.SearchBoxComponent=ye,e.SettingsComponent=dr,e.StatisticsDemoComponent=or,e.ThemeManagerProvider=q,e.TodoDemoComponent=tr,e.TranslationServiceProvider=F,e.UserEdit=V,e.UserInfoComponent=Pt,e.UserLogin=D,e.UserPreferencesComponent=tn,e.UsersManagementComponent=Gt,e.fadeInOut=A,e.flyInOut=function(e){return void 0===e&&(e=.2),r.trigger("flyInOut",[r.state("in",r.style({opacity:1,transform:"translateX(0)"})),r.transition("void => *",[r.style({opacity:0,transform:"translateX(-100%)"}),r.animate(e+"s ease-in")]),r.transition("* => void",[r.animate(e+"s 10ms ease-out",r.style({opacity:0,transform:"translateX(100%)"}))])])},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=polpware-ngx-appkit-starter-alpha.umd.min.js.map